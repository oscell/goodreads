{"ast":null,"code":"import { CollectionRendererContext as $7135fc7d473fd974$export$4feb769f8ddf26c5, SectionContext as $7135fc7d473fd974$export$d40e14dec8b060a8, usePersistedKeys as $7135fc7d473fd974$export$90e00781bc59d8f9 } from \"./Collection.mjs\";\nimport { Provider as $64fa3d84918910a7$export$2881499e37b75b9a, useContextProps as $64fa3d84918910a7$export$29f1550f4b0d4415, useRenderProps as $64fa3d84918910a7$export$4d86445c2cf5e3, useSlot as $64fa3d84918910a7$export$9d4c57ee4c6ffdd8, useSlottedContext as $64fa3d84918910a7$export$fabf2dc03a41866e } from \"./utils.mjs\";\nimport { HeaderContext as $72a5793c14baf454$export$e0e4026c12a8bdbb } from \"./Header.mjs\";\nimport { KeyboardContext as $63df2425e2108aa8$export$744d98a3b8a94e1c } from \"./Keyboard.mjs\";\nimport { OverlayTriggerStateContext as $de32f1b87079253c$export$d2f961adcb0afbe } from \"./Dialog.mjs\";\nimport { PopoverContext as $07b14b47974efb58$export$9b9a0cd73afb7ca4 } from \"./Popover.mjs\";\nimport { SeparatorContext as $431f98aba6844401$export$6615d83f6de245ce } from \"./Separator.mjs\";\nimport { TextContext as $514c0188e459b4c0$export$9afb8bc826b033ea } from \"./Text.mjs\";\nimport { useMenuTrigger as $kM2ZM$useMenuTrigger, useMenu as $kM2ZM$useMenu, FocusScope as $kM2ZM$FocusScope, useMenuSection as $kM2ZM$useMenuSection, useMenuItem as $kM2ZM$useMenuItem, useFocusRing as $kM2ZM$useFocusRing, mergeProps as $kM2ZM$mergeProps } from \"react-aria\";\nimport { useMenuTriggerState as $kM2ZM$useMenuTriggerState, useTreeState as $kM2ZM$useTreeState } from \"react-stately\";\nimport { createBranchComponent as $kM2ZM$createBranchComponent, CollectionBuilder as $kM2ZM$CollectionBuilder, Collection as $kM2ZM$Collection, createLeafComponent as $kM2ZM$createLeafComponent } from \"@react-aria/collections\";\nimport { useResizeObserver as $kM2ZM$useResizeObserver, useObjectRef as $kM2ZM$useObjectRef, filterDOMProps as $kM2ZM$filterDOMProps } from \"@react-aria/utils\";\nimport { PressResponder as $kM2ZM$PressResponder, useInteractOutside as $kM2ZM$useInteractOutside, useHover as $kM2ZM$useHover } from \"@react-aria/interactions\";\nimport $kM2ZM$react, { createContext as $kM2ZM$createContext, useRef as $kM2ZM$useRef, useState as $kM2ZM$useState, useCallback as $kM2ZM$useCallback, useContext as $kM2ZM$useContext, useEffect as $kM2ZM$useEffect, forwardRef as $kM2ZM$forwardRef } from \"react\";\nimport { useSubmenuTriggerState as $kM2ZM$useSubmenuTriggerState } from \"@react-stately/menu\";\nimport { useSubmenuTrigger as $kM2ZM$useSubmenuTrigger } from \"@react-aria/menu\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nconst $3674c52c6b3c5bce$export$c7e742effb1c51e2 = /*#__PURE__*/(0, $kM2ZM$createContext)(null);\nconst $3674c52c6b3c5bce$export$24aad8519b95b41b = /*#__PURE__*/(0, $kM2ZM$createContext)(null);\nconst $3674c52c6b3c5bce$export$795aec4671cbae19 = /*#__PURE__*/(0, $kM2ZM$createContext)(null);\nfunction $3674c52c6b3c5bce$export$27d2ad3c5815583e(props) {\n  let state = (0, $kM2ZM$useMenuTriggerState)(props);\n  let ref = (0, $kM2ZM$useRef)(null);\n  let {\n    menuTriggerProps: menuTriggerProps,\n    menuProps: menuProps\n  } = (0, $kM2ZM$useMenuTrigger)({\n    ...props,\n    type: 'menu'\n  }, state, ref);\n  // Allows menu width to match button\n  let [buttonWidth, setButtonWidth] = (0, $kM2ZM$useState)(null);\n  let onResize = (0, $kM2ZM$useCallback)(() => {\n    if (ref.current) setButtonWidth(ref.current.offsetWidth + 'px');\n  }, [ref]);\n  (0, $kM2ZM$useResizeObserver)({\n    ref: ref,\n    onResize: onResize\n  });\n  let scrollRef = (0, $kM2ZM$useRef)(null);\n  return /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $64fa3d84918910a7$export$2881499e37b75b9a), {\n    values: [[$3674c52c6b3c5bce$export$c7e742effb1c51e2, {\n      ...menuProps,\n      ref: scrollRef\n    }], [(0, $de32f1b87079253c$export$d2f961adcb0afbe), state], [$3674c52c6b3c5bce$export$795aec4671cbae19, state], [(0, $07b14b47974efb58$export$9b9a0cd73afb7ca4), {\n      trigger: 'MenuTrigger',\n      triggerRef: ref,\n      scrollRef: scrollRef,\n      placement: 'bottom start',\n      style: {\n        '--trigger-width': buttonWidth\n      }\n    }]]\n  }, /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $kM2ZM$PressResponder), {\n    ...menuTriggerProps,\n    ref: ref,\n    isPressed: state.isOpen\n  }, props.children));\n}\nconst $3674c52c6b3c5bce$var$SubmenuTriggerContext = /*#__PURE__*/(0, $kM2ZM$createContext)(null);\nconst $3674c52c6b3c5bce$export$ecabc99eeffab7ca = /*#__PURE__*/(0, $kM2ZM$createBranchComponent)('submenutrigger', (props, ref, item) => {\n  let {\n    CollectionBranch: CollectionBranch\n  } = (0, $kM2ZM$useContext)((0, $7135fc7d473fd974$export$4feb769f8ddf26c5));\n  let state = (0, $kM2ZM$useContext)($3674c52c6b3c5bce$export$24aad8519b95b41b);\n  let rootMenuTriggerState = (0, $kM2ZM$useContext)($3674c52c6b3c5bce$export$795aec4671cbae19);\n  let submenuTriggerState = (0, $kM2ZM$useSubmenuTriggerState)({\n    triggerKey: item.key\n  }, rootMenuTriggerState);\n  let submenuRef = (0, $kM2ZM$useRef)(null);\n  let itemRef = (0, $kM2ZM$useObjectRef)(ref);\n  let popoverContext = (0, $64fa3d84918910a7$export$fabf2dc03a41866e)((0, $07b14b47974efb58$export$9b9a0cd73afb7ca4));\n  let {\n    parentMenuRef: parentMenuRef\n  } = (0, $kM2ZM$useContext)($3674c52c6b3c5bce$var$SubmenuTriggerContext);\n  let {\n    submenuTriggerProps: submenuTriggerProps,\n    submenuProps: submenuProps,\n    popoverProps: popoverProps\n  } = (0, $kM2ZM$useSubmenuTrigger)({\n    parentMenuRef: parentMenuRef,\n    submenuRef: submenuRef,\n    delay: props.delay\n  }, submenuTriggerState, itemRef);\n  return /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $64fa3d84918910a7$export$2881499e37b75b9a), {\n    values: [[$3674c52c6b3c5bce$var$MenuItemContext, {\n      ...submenuTriggerProps,\n      onAction: undefined,\n      ref: itemRef\n    }], [$3674c52c6b3c5bce$export$c7e742effb1c51e2, submenuProps], [(0, $de32f1b87079253c$export$d2f961adcb0afbe), submenuTriggerState], [(0, $07b14b47974efb58$export$9b9a0cd73afb7ca4), {\n      ref: submenuRef,\n      trigger: 'SubmenuTrigger',\n      triggerRef: itemRef,\n      placement: 'end top',\n      UNSTABLE_portalContainer: popoverContext.UNSTABLE_portalContainer || undefined,\n      ...popoverProps\n    }]]\n  }, /*#__PURE__*/(0, $kM2ZM$react).createElement(CollectionBranch, {\n    collection: state.collection,\n    parent: item\n  }), props.children[1]);\n}, props => props.children[0]);\nfunction $3674c52c6b3c5bce$var$Menu(props, ref) {\n  [props, ref] = (0, $64fa3d84918910a7$export$29f1550f4b0d4415)(props, ref, $3674c52c6b3c5bce$export$c7e742effb1c51e2);\n  // Delay rendering the actual menu until we have the collection so that auto focus works properly.\n  return /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $kM2ZM$CollectionBuilder), {\n    content: /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $kM2ZM$Collection), props)\n  }, collection => collection.size > 0 && /*#__PURE__*/(0, $kM2ZM$react).createElement($3674c52c6b3c5bce$var$MenuInner, {\n    props: props,\n    collection: collection,\n    menuRef: ref\n  }));\n}\nfunction $3674c52c6b3c5bce$var$MenuInner({\n  props: props,\n  collection: collection,\n  menuRef: ref\n}) {\n  let state = (0, $kM2ZM$useTreeState)({\n    ...props,\n    collection: collection,\n    children: undefined\n  });\n  let [popoverContainer, setPopoverContainer] = (0, $kM2ZM$useState)(null);\n  let {\n    isVirtualized: isVirtualized,\n    CollectionRoot: CollectionRoot\n  } = (0, $kM2ZM$useContext)((0, $7135fc7d473fd974$export$4feb769f8ddf26c5));\n  let {\n    menuProps: menuProps\n  } = (0, $kM2ZM$useMenu)({\n    ...props,\n    isVirtualized: isVirtualized\n  }, state, ref);\n  let rootMenuTriggerState = (0, $kM2ZM$useContext)($3674c52c6b3c5bce$export$795aec4671cbae19);\n  let popoverContext = (0, $kM2ZM$useContext)((0, $07b14b47974efb58$export$9b9a0cd73afb7ca4));\n  let isSubmenu = (popoverContext === null || popoverContext === void 0 ? void 0 : popoverContext.trigger) === 'SubmenuTrigger';\n  (0, $kM2ZM$useInteractOutside)({\n    ref: ref,\n    onInteractOutside: e => {\n      if (rootMenuTriggerState && !(popoverContainer === null || popoverContainer === void 0 ? void 0 : popoverContainer.contains(e.target))) rootMenuTriggerState.close();\n    },\n    isDisabled: isSubmenu || (rootMenuTriggerState === null || rootMenuTriggerState === void 0 ? void 0 : rootMenuTriggerState.expandedKeysStack.length) === 0\n  });\n  let prevPopoverContainer = (0, $kM2ZM$useRef)(null);\n  let [leftOffset, setLeftOffset] = (0, $kM2ZM$useState)({\n    left: 0\n  });\n  (0, $kM2ZM$useEffect)(() => {\n    if (popoverContainer && prevPopoverContainer.current !== popoverContainer && leftOffset.left === 0) {\n      prevPopoverContainer.current = popoverContainer;\n      let {\n        left: left\n      } = popoverContainer.getBoundingClientRect();\n      setLeftOffset({\n        left: -1 * left\n      });\n    }\n  }, [leftOffset, popoverContainer]);\n  let renderProps = (0, $64fa3d84918910a7$export$4d86445c2cf5e3)({\n    defaultClassName: 'react-aria-Menu',\n    className: props.className,\n    style: props.style,\n    values: {}\n  });\n  return /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $kM2ZM$FocusScope), null, /*#__PURE__*/(0, $kM2ZM$react).createElement(\"div\", {\n    ...(0, $kM2ZM$filterDOMProps)(props),\n    ...menuProps,\n    ...renderProps,\n    ref: ref,\n    slot: props.slot || undefined,\n    onScroll: props.onScroll\n  }, /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $64fa3d84918910a7$export$2881499e37b75b9a), {\n    values: [[$3674c52c6b3c5bce$export$24aad8519b95b41b, state], [(0, $431f98aba6844401$export$6615d83f6de245ce), {\n      elementType: 'div'\n    }], [(0, $07b14b47974efb58$export$9b9a0cd73afb7ca4), {\n      UNSTABLE_portalContainer: popoverContainer || undefined\n    }], [(0, $7135fc7d473fd974$export$d40e14dec8b060a8), {\n      render: $3674c52c6b3c5bce$var$MenuSection\n    }], [$3674c52c6b3c5bce$var$SubmenuTriggerContext, {\n      parentMenuRef: ref\n    }], [$3674c52c6b3c5bce$var$MenuItemContext, null]]\n  }, /*#__PURE__*/(0, $kM2ZM$react).createElement(CollectionRoot, {\n    collection: collection,\n    persistedKeys: (0, $7135fc7d473fd974$export$90e00781bc59d8f9)(state.selectionManager.focusedKey),\n    scrollRef: ref\n  }))), /*#__PURE__*/(0, $kM2ZM$react).createElement(\"div\", {\n    ref: setPopoverContainer,\n    style: {\n      width: '100vw',\n      position: 'absolute',\n      top: 0,\n      ...leftOffset\n    }\n  }));\n}\n/**\n * A menu displays a list of actions or options that a user can choose.\n */\nconst $3674c52c6b3c5bce$export$d9b273488cd8ce6f = /*#__PURE__*/(0, $kM2ZM$forwardRef)($3674c52c6b3c5bce$var$Menu);\nfunction $3674c52c6b3c5bce$var$MenuSection(props, ref, section) {\n  var _section_props, _section_props1;\n  let state = (0, $kM2ZM$useContext)($3674c52c6b3c5bce$export$24aad8519b95b41b);\n  let {\n    CollectionBranch: CollectionBranch\n  } = (0, $kM2ZM$useContext)((0, $7135fc7d473fd974$export$4feb769f8ddf26c5));\n  let [headingRef, heading] = (0, $64fa3d84918910a7$export$9d4c57ee4c6ffdd8)();\n  var _section_props_arialabel;\n  let {\n    headingProps: headingProps,\n    groupProps: groupProps\n  } = (0, $kM2ZM$useMenuSection)({\n    heading: heading,\n    'aria-label': (_section_props_arialabel = section.props['aria-label']) !== null && _section_props_arialabel !== void 0 ? _section_props_arialabel : undefined\n  });\n  let renderProps = (0, $64fa3d84918910a7$export$4d86445c2cf5e3)({\n    defaultClassName: 'react-aria-Section',\n    className: (_section_props = section.props) === null || _section_props === void 0 ? void 0 : _section_props.className,\n    style: (_section_props1 = section.props) === null || _section_props1 === void 0 ? void 0 : _section_props1.style,\n    values: {}\n  });\n  return /*#__PURE__*/(0, $kM2ZM$react).createElement(\"section\", {\n    ...(0, $kM2ZM$filterDOMProps)(props),\n    ...groupProps,\n    ...renderProps,\n    ref: ref\n  }, /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $72a5793c14baf454$export$e0e4026c12a8bdbb).Provider, {\n    value: {\n      ...headingProps,\n      ref: headingRef\n    }\n  }, /*#__PURE__*/(0, $kM2ZM$react).createElement(CollectionBranch, {\n    collection: state.collection,\n    parent: section\n  })));\n}\nconst $3674c52c6b3c5bce$var$MenuItemContext = /*#__PURE__*/(0, $kM2ZM$createContext)(null);\nconst $3674c52c6b3c5bce$export$2ce376c2cc3355c8 = /*#__PURE__*/(0, $kM2ZM$createLeafComponent)('item', function MenuItem(props, forwardedRef, item) {\n  var _useSlottedContext;\n  [props, forwardedRef] = (0, $64fa3d84918910a7$export$29f1550f4b0d4415)(props, forwardedRef, $3674c52c6b3c5bce$var$MenuItemContext);\n  let id = (_useSlottedContext = (0, $64fa3d84918910a7$export$fabf2dc03a41866e)($3674c52c6b3c5bce$var$MenuItemContext)) === null || _useSlottedContext === void 0 ? void 0 : _useSlottedContext.id;\n  let state = (0, $kM2ZM$useContext)($3674c52c6b3c5bce$export$24aad8519b95b41b);\n  let ref = (0, $kM2ZM$useObjectRef)(forwardedRef);\n  let {\n    menuItemProps: menuItemProps,\n    labelProps: labelProps,\n    descriptionProps: descriptionProps,\n    keyboardShortcutProps: keyboardShortcutProps,\n    ...states\n  } = (0, $kM2ZM$useMenuItem)({\n    ...props,\n    id: id,\n    key: item.key\n  }, state, ref);\n  let {\n    isFocusVisible: isFocusVisible,\n    focusProps: focusProps\n  } = (0, $kM2ZM$useFocusRing)();\n  let {\n    hoverProps: hoverProps,\n    isHovered: isHovered\n  } = (0, $kM2ZM$useHover)({\n    isDisabled: states.isDisabled\n  });\n  let renderProps = (0, $64fa3d84918910a7$export$4d86445c2cf5e3)({\n    ...props,\n    id: undefined,\n    children: item.rendered,\n    defaultClassName: 'react-aria-MenuItem',\n    values: {\n      ...states,\n      isHovered: isHovered,\n      isFocusVisible: isFocusVisible,\n      selectionMode: state.selectionManager.selectionMode,\n      selectionBehavior: state.selectionManager.selectionBehavior,\n      hasSubmenu: !!props['aria-haspopup'],\n      isOpen: props['aria-expanded'] === 'true'\n    }\n  });\n  let ElementType = props.href ? 'a' : 'div';\n  return /*#__PURE__*/(0, $kM2ZM$react).createElement(ElementType, {\n    ...(0, $kM2ZM$mergeProps)(menuItemProps, focusProps, hoverProps),\n    ...renderProps,\n    ref: ref,\n    \"data-disabled\": states.isDisabled || undefined,\n    \"data-hovered\": isHovered || undefined,\n    \"data-focused\": states.isFocused || undefined,\n    \"data-focus-visible\": isFocusVisible || undefined,\n    \"data-pressed\": states.isPressed || undefined,\n    \"data-selected\": states.isSelected || undefined,\n    \"data-selection-mode\": state.selectionManager.selectionMode === 'none' ? undefined : state.selectionManager.selectionMode,\n    \"data-has-submenu\": !!props['aria-haspopup'] || undefined,\n    \"data-open\": props['aria-expanded'] === 'true' || undefined\n  }, /*#__PURE__*/(0, $kM2ZM$react).createElement((0, $64fa3d84918910a7$export$2881499e37b75b9a), {\n    values: [[(0, $514c0188e459b4c0$export$9afb8bc826b033ea), {\n      slots: {\n        label: labelProps,\n        description: descriptionProps\n      }\n    }], [(0, $63df2425e2108aa8$export$744d98a3b8a94e1c), keyboardShortcutProps]]\n  }, renderProps.children));\n});\nexport { $3674c52c6b3c5bce$export$c7e742effb1c51e2 as MenuContext, $3674c52c6b3c5bce$export$24aad8519b95b41b as MenuStateContext, $3674c52c6b3c5bce$export$795aec4671cbae19 as RootMenuTriggerStateContext, $3674c52c6b3c5bce$export$27d2ad3c5815583e as MenuTrigger, $3674c52c6b3c5bce$export$ecabc99eeffab7ca as SubmenuTrigger, $3674c52c6b3c5bce$export$d9b273488cd8ce6f as Menu, $3674c52c6b3c5bce$export$2ce376c2cc3355c8 as MenuItem };","map":{"version":3,"names":["$3674c52c6b3c5bce$export$c7e742effb1c51e2","$kM2ZM$createContext","$3674c52c6b3c5bce$export$24aad8519b95b41b","$3674c52c6b3c5bce$export$795aec4671cbae19","$3674c52c6b3c5bce$export$27d2ad3c5815583e","props","state","$kM2ZM$useMenuTriggerState","ref","$kM2ZM$useRef","menuTriggerProps","menuProps","$kM2ZM$useMenuTrigger","type","buttonWidth","setButtonWidth","$kM2ZM$useState","onResize","$kM2ZM$useCallback","current","offsetWidth","$kM2ZM$useResizeObserver","scrollRef","$kM2ZM$react","createElement","$64fa3d84918910a7$export$2881499e37b75b9a","values","$de32f1b87079253c$export$d2f961adcb0afbe","$07b14b47974efb58$export$9b9a0cd73afb7ca4","trigger","triggerRef","placement","style","$kM2ZM$PressResponder","isPressed","isOpen","children","$3674c52c6b3c5bce$var$SubmenuTriggerContext","$3674c52c6b3c5bce$export$ecabc99eeffab7ca","$kM2ZM$createBranchComponent","item","CollectionBranch","$kM2ZM$useContext","$7135fc7d473fd974$export$4feb769f8ddf26c5","rootMenuTriggerState","submenuTriggerState","$kM2ZM$useSubmenuTriggerState","triggerKey","key","submenuRef","itemRef","$kM2ZM$useObjectRef","popoverContext","$64fa3d84918910a7$export$fabf2dc03a41866e","parentMenuRef","submenuTriggerProps","submenuProps","popoverProps","$kM2ZM$useSubmenuTrigger","delay","$3674c52c6b3c5bce$var$MenuItemContext","onAction","undefined","UNSTABLE_portalContainer","collection","parent","$3674c52c6b3c5bce$var$Menu","$64fa3d84918910a7$export$29f1550f4b0d4415","$kM2ZM$CollectionBuilder","content","$kM2ZM$Collection","size","$3674c52c6b3c5bce$var$MenuInner","menuRef","$kM2ZM$useTreeState","popoverContainer","setPopoverContainer","isVirtualized","CollectionRoot","$kM2ZM$useMenu","isSubmenu","$kM2ZM$useInteractOutside","onInteractOutside","e","contains","target","close","isDisabled","expandedKeysStack","length","prevPopoverContainer","leftOffset","setLeftOffset","left","$kM2ZM$useEffect","getBoundingClientRect","renderProps","$64fa3d84918910a7$export$4d86445c2cf5e3","defaultClassName","className","$kM2ZM$FocusScope","$kM2ZM$filterDOMProps","slot","onScroll","$431f98aba6844401$export$6615d83f6de245ce","elementType","$7135fc7d473fd974$export$d40e14dec8b060a8","render","$3674c52c6b3c5bce$var$MenuSection","persistedKeys","$7135fc7d473fd974$export$90e00781bc59d8f9","selectionManager","focusedKey","width","position","top","$3674c52c6b3c5bce$export$d9b273488cd8ce6f","$kM2ZM$forwardRef","section","_section_props","_section_props1","headingRef","heading","$64fa3d84918910a7$export$9d4c57ee4c6ffdd8","_section_props_arialabel","headingProps","groupProps","$kM2ZM$useMenuSection","$72a5793c14baf454$export$e0e4026c12a8bdbb","Provider","value","$3674c52c6b3c5bce$export$2ce376c2cc3355c8","$kM2ZM$createLeafComponent","MenuItem","forwardedRef","_useSlottedContext","id","menuItemProps","labelProps","descriptionProps","keyboardShortcutProps","states","$kM2ZM$useMenuItem","isFocusVisible","focusProps","$kM2ZM$useFocusRing","hoverProps","isHovered","$kM2ZM$useHover","rendered","selectionMode","selectionBehavior","hasSubmenu","ElementType","href","$kM2ZM$mergeProps","isFocused","isSelected","$514c0188e459b4c0$export$9afb8bc826b033ea","slots","label","description","$63df2425e2108aa8$export$744d98a3b8a94e1c"],"sources":["/Users/oscar.meunier/Documents/Personal/goodreads/node_modules/react-aria-components/dist/packages/react-aria-components/src/Menu.tsx"],"sourcesContent":["/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n\nimport {AriaMenuProps, FocusScope, mergeProps, useFocusRing, useMenu, useMenuItem, useMenuSection, useMenuTrigger} from 'react-aria';\nimport {MenuTriggerProps as BaseMenuTriggerProps, Collection as ICollection, Node, TreeState, useMenuTriggerState, useTreeState} from 'react-stately';\nimport {Collection, CollectionBuilder, createBranchComponent, createLeafComponent} from '@react-aria/collections';\nimport {CollectionProps, CollectionRendererContext, ItemRenderProps, SectionContext, SectionProps, usePersistedKeys} from './Collection';\nimport {ContextValue, Provider, RenderProps, ScrollableProps, SlotProps, StyleProps, useContextProps, useRenderProps, useSlot, useSlottedContext} from './utils';\nimport {filterDOMProps, useObjectRef, useResizeObserver} from '@react-aria/utils';\nimport {forwardRefType, HoverEvents, Key, LinkDOMProps} from '@react-types/shared';\nimport {HeaderContext} from './Header';\nimport {KeyboardContext} from './Keyboard';\nimport {OverlayTriggerStateContext} from './Dialog';\nimport {PopoverContext, PopoverProps} from './Popover';\nimport {PressResponder, useHover, useInteractOutside} from '@react-aria/interactions';\nimport React, {\n  createContext,\n  ForwardedRef,\n  forwardRef,\n  ReactElement,\n  ReactNode,\n  RefObject,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState\n} from 'react';\nimport {RootMenuTriggerState, useSubmenuTriggerState} from '@react-stately/menu';\nimport {SeparatorContext} from './Separator';\nimport {TextContext} from './Text';\nimport {useSubmenuTrigger} from '@react-aria/menu';\n\nexport const MenuContext = createContext<ContextValue<MenuProps<any>, HTMLDivElement>>(null);\nexport const MenuStateContext = createContext<TreeState<any> | null>(null);\nexport const RootMenuTriggerStateContext = createContext<RootMenuTriggerState | null>(null);\n\nexport interface MenuTriggerProps extends BaseMenuTriggerProps {\n  children: ReactNode\n}\n\nexport function MenuTrigger(props: MenuTriggerProps) {\n  let state = useMenuTriggerState(props);\n\n  let ref = useRef<HTMLButtonElement>(null);\n  let {menuTriggerProps, menuProps} = useMenuTrigger({\n    ...props,\n    type: 'menu'\n  }, state, ref);\n  // Allows menu width to match button\n  let [buttonWidth, setButtonWidth] = useState<string | null>(null);\n  let onResize = useCallback(() => {\n    if (ref.current) {\n      setButtonWidth(ref.current.offsetWidth + 'px');\n    }\n  }, [ref]);\n\n  useResizeObserver({\n    ref: ref,\n    onResize: onResize\n  });\n\n  let scrollRef = useRef(null);\n\n  return (\n    <Provider\n      values={[\n        [MenuContext, {...menuProps, ref: scrollRef}],\n        [OverlayTriggerStateContext, state],\n        [RootMenuTriggerStateContext, state],\n        [PopoverContext, {\n          trigger: 'MenuTrigger',\n          triggerRef: ref,\n          scrollRef,\n          placement: 'bottom start',\n          style: {'--trigger-width': buttonWidth} as React.CSSProperties\n        }]\n      ]}>\n      <PressResponder {...menuTriggerProps} ref={ref} isPressed={state.isOpen}>\n        {props.children}\n      </PressResponder>\n    </Provider>\n  );\n}\n\nexport interface SubmenuTriggerProps {\n  /**\n   * The contents of the SubmenuTrigger. The first child should be an Item (the trigger) and the second child should be the Popover (for the submenu).\n   */\n  children: ReactElement[],\n  /**\n   * The delay time in milliseconds for the submenu to appear after hovering over the trigger.\n   * @default 200\n   */\n  delay?: number\n}\n\nconst SubmenuTriggerContext = createContext<{parentMenuRef: RefObject<HTMLElement | null>} | null>(null);\n\n/**\n * A submenu trigger is used to wrap a submenu's trigger item and the submenu itself.\n *\n * @version alpha\n */\nexport const SubmenuTrigger =  /*#__PURE__*/ createBranchComponent('submenutrigger', (props: SubmenuTriggerProps, ref: ForwardedRef<HTMLDivElement>, item) => {\n  let {CollectionBranch} = useContext(CollectionRendererContext);\n  let state = useContext(MenuStateContext)!;\n  let rootMenuTriggerState = useContext(RootMenuTriggerStateContext)!;\n  let submenuTriggerState = useSubmenuTriggerState({triggerKey: item.key}, rootMenuTriggerState);\n  let submenuRef = useRef<HTMLDivElement>(null);\n  let itemRef = useObjectRef(ref);\n  let popoverContext = useSlottedContext(PopoverContext)!;\n  let {parentMenuRef} = useContext(SubmenuTriggerContext)!;\n  let {submenuTriggerProps, submenuProps, popoverProps} = useSubmenuTrigger({\n    parentMenuRef,\n    submenuRef,\n    delay: props.delay\n  }, submenuTriggerState, itemRef);\n\n  return (\n    <Provider\n      values={[\n        [MenuItemContext, {...submenuTriggerProps, onAction: undefined, ref: itemRef}],\n        [MenuContext, submenuProps],\n        [OverlayTriggerStateContext, submenuTriggerState],\n        [PopoverContext, {\n          ref: submenuRef,\n          trigger: 'SubmenuTrigger',\n          triggerRef: itemRef,\n          placement: 'end top',\n          UNSTABLE_portalContainer: popoverContext.UNSTABLE_portalContainer || undefined,\n          ...popoverProps\n        }]\n      ]}>\n      <CollectionBranch collection={state.collection} parent={item} />\n      {props.children[1]}\n    </Provider>\n  );\n}, props => props.children[0]);\n\nexport interface MenuProps<T> extends Omit<AriaMenuProps<T>, 'children'>, CollectionProps<T>, StyleProps, SlotProps, ScrollableProps<HTMLDivElement> {}\n\nfunction Menu<T extends object>(props: MenuProps<T>, ref: ForwardedRef<HTMLDivElement>) {\n  [props, ref] = useContextProps(props, ref, MenuContext);\n\n  // Delay rendering the actual menu until we have the collection so that auto focus works properly.\n  return (\n    <CollectionBuilder content={<Collection {...props} />}>\n      {collection => collection.size > 0 && <MenuInner props={props} collection={collection} menuRef={ref} />}\n    </CollectionBuilder>\n  );\n}\n\ninterface MenuInnerProps<T> {\n  props: MenuProps<T>,\n  collection: ICollection<Node<object>>,\n  menuRef: RefObject<HTMLDivElement | null>\n}\n\nfunction MenuInner<T extends object>({props, collection, menuRef: ref}: MenuInnerProps<T>) {\n  let state = useTreeState({\n    ...props,\n    collection,\n    children: undefined\n  });\n  let [popoverContainer, setPopoverContainer] = useState<HTMLDivElement | null>(null);\n  let {isVirtualized, CollectionRoot} = useContext(CollectionRendererContext);\n  let {menuProps} = useMenu({...props, isVirtualized}, state, ref);\n  let rootMenuTriggerState = useContext(RootMenuTriggerStateContext)!;\n  let popoverContext = useContext(PopoverContext)!;\n\n  let isSubmenu = (popoverContext as PopoverProps)?.trigger === 'SubmenuTrigger';\n  useInteractOutside({\n    ref,\n    onInteractOutside: (e) => {\n      if (rootMenuTriggerState && !popoverContainer?.contains(e.target as HTMLElement)) {\n        rootMenuTriggerState.close();\n      }\n    },\n    isDisabled: isSubmenu || rootMenuTriggerState?.expandedKeysStack.length === 0\n  });\n\n  let prevPopoverContainer = useRef<HTMLDivElement | null>(null) ;\n  let [leftOffset, setLeftOffset] = useState({left: 0});\n  useEffect(() => {\n    if (popoverContainer && prevPopoverContainer.current !== popoverContainer && leftOffset.left === 0) {\n      prevPopoverContainer.current = popoverContainer;\n      let {left} = popoverContainer.getBoundingClientRect();\n      setLeftOffset({left: -1 * left});\n    }\n  }, [leftOffset, popoverContainer]);\n\n  let renderProps = useRenderProps({\n    defaultClassName: 'react-aria-Menu',\n    className: props.className,\n    style: props.style,\n    values: {}\n  });\n\n  return (\n    <FocusScope>\n      <div\n        {...filterDOMProps(props)}\n        {...menuProps}\n        {...renderProps}\n        ref={ref}\n        slot={props.slot || undefined}\n        onScroll={props.onScroll}>\n        <Provider\n          values={[\n            [MenuStateContext, state],\n            [SeparatorContext, {elementType: 'div'}],\n            [PopoverContext, {UNSTABLE_portalContainer: popoverContainer || undefined}],\n            [SectionContext, {render: MenuSection}],\n            [SubmenuTriggerContext, {parentMenuRef: ref}],\n            [MenuItemContext, null]\n          ]}>\n          <CollectionRoot\n            collection={collection}\n            persistedKeys={usePersistedKeys(state.selectionManager.focusedKey)}\n            scrollRef={ref} />\n        </Provider>\n      </div>\n      <div ref={setPopoverContainer} style={{width: '100vw', position: 'absolute', top: 0, ...leftOffset}} />\n    </FocusScope>\n  );\n}\n\n/**\n * A menu displays a list of actions or options that a user can choose.\n */\nconst _Menu = /*#__PURE__*/ (forwardRef as forwardRefType)(Menu);\nexport {_Menu as Menu};\n\nfunction MenuSection<T extends object>(props: SectionProps<T>, ref: ForwardedRef<HTMLElement>, section: Node<T>) {\n  let state = useContext(MenuStateContext)!;\n  let {CollectionBranch} = useContext(CollectionRendererContext);\n  let [headingRef, heading] = useSlot();\n  let {headingProps, groupProps} = useMenuSection({\n    heading,\n    'aria-label': section.props['aria-label'] ?? undefined\n  });\n  let renderProps = useRenderProps({\n    defaultClassName: 'react-aria-Section',\n    className: section.props?.className,\n    style: section.props?.style,\n    values: {}\n  });\n\n  return (\n    <section\n      {...filterDOMProps(props as any)}\n      {...groupProps}\n      {...renderProps}\n      ref={ref}>\n      <HeaderContext.Provider value={{...headingProps, ref: headingRef}}>\n        <CollectionBranch collection={state.collection} parent={section} />\n      </HeaderContext.Provider>\n    </section>\n  );\n}\n\nexport interface MenuItemRenderProps extends ItemRenderProps {\n  /**\n   * Whether the item has a submenu.\n   *\n   * @selector [data-has-submenu]\n   */\n  hasSubmenu: boolean,\n  /**\n   * Whether the item's submenu is open.\n   *\n   * @selector [data-open]\n   */\n  isOpen: boolean\n}\n\nexport interface MenuItemProps<T = object> extends RenderProps<MenuItemRenderProps>, LinkDOMProps, HoverEvents {\n  /** The unique id of the item. */\n  id?: Key,\n  /** The object value that this item represents. When using dynamic collections, this is set automatically. */\n  value?: T,\n  /** A string representation of the item's contents, used for features like typeahead. */\n  textValue?: string,\n  /** An accessibility label for this item. */\n  'aria-label'?: string,\n  /** Whether the item is disabled. */\n  isDisabled?: boolean,\n  /** Handler that is called when the item is selected. */\n  onAction?: () => void\n}\n\nconst MenuItemContext = createContext<ContextValue<MenuItemProps, HTMLDivElement>>(null);\n\n/**\n * A MenuItem represents an individual action in a Menu.\n */\nexport const MenuItem = /*#__PURE__*/ createLeafComponent('item', function MenuItem<T extends object>(props: MenuItemProps<T>, forwardedRef: ForwardedRef<HTMLDivElement>, item: Node<T>) {\n  [props, forwardedRef] = useContextProps(props, forwardedRef, MenuItemContext);\n  let id = useSlottedContext(MenuItemContext)?.id as string;\n  let state = useContext(MenuStateContext)!;\n  let ref = useObjectRef<any>(forwardedRef);\n\n  let {menuItemProps, labelProps, descriptionProps, keyboardShortcutProps, ...states} = useMenuItem({...props, id, key: item.key}, state, ref);\n\n  let {isFocusVisible, focusProps} = useFocusRing();\n  let {hoverProps, isHovered} = useHover({\n    isDisabled: states.isDisabled\n  });\n  let renderProps = useRenderProps({\n    ...props,\n    id: undefined,\n    children: item.rendered,\n    defaultClassName: 'react-aria-MenuItem',\n    values: {\n      ...states,\n      isHovered,\n      isFocusVisible,\n      selectionMode: state.selectionManager.selectionMode,\n      selectionBehavior: state.selectionManager.selectionBehavior,\n      hasSubmenu: !!props['aria-haspopup'],\n      isOpen: props['aria-expanded'] === 'true'\n    }\n  });\n\n  let ElementType: React.ElementType = props.href ? 'a' : 'div';\n\n  return (\n    <ElementType\n      {...mergeProps(menuItemProps, focusProps, hoverProps)}\n      {...renderProps}\n      ref={ref}\n      data-disabled={states.isDisabled || undefined}\n      data-hovered={isHovered || undefined}\n      data-focused={states.isFocused || undefined}\n      data-focus-visible={isFocusVisible || undefined}\n      data-pressed={states.isPressed || undefined}\n      data-selected={states.isSelected || undefined}\n      data-selection-mode={state.selectionManager.selectionMode === 'none' ? undefined : state.selectionManager.selectionMode}\n      data-has-submenu={!!props['aria-haspopup'] || undefined}\n      data-open={props['aria-expanded'] === 'true' || undefined}>\n      <Provider\n        values={[\n          [TextContext, {\n            slots: {\n              label: labelProps,\n              description: descriptionProps\n            }\n          }],\n          [KeyboardContext, keyboardShortcutProps]\n        ]}>\n        {renderProps.children}\n      </Provider>\n    </ElementType>\n  );\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}