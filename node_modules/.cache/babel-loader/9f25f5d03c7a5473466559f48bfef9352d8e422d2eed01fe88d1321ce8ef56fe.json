{"ast":null,"code":"/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */let $ad1d98aa8f0c31b4$var$KEY = 0;\nclass $ad1d98aa8f0c31b4$export$1a5223887c560441 {\n  /**\n  * Prepares the view for reuse. Called just before the view is removed from the DOM.\n  */\n  prepareForReuse() {\n    this.content = null;\n    this.rendered = null;\n    this.layoutInfo = null;\n  }\n  getReusableView(reuseType) {\n    // Reusable view queue should be FIFO so that DOM order remains consistent during scrolling.\n    // For example, cells within a row should remain in the same order even if the row changes contents.\n    // The cells within a row are removed from their parent in order. If the row is reused, the cells\n    // should be reused in the new row in the same order they were before.\n    let reusable = this.reusableViews.get(reuseType);\n    let view = (reusable === null || reusable === void 0 ? void 0 : reusable.length) > 0 ? reusable.shift() : new $ad1d98aa8f0c31b4$export$1a5223887c560441(this.virtualizer);\n    view.viewType = reuseType;\n    view.parent = this;\n    return view;\n  }\n  reuseChild(child) {\n    child.prepareForReuse();\n    let reusable = this.reusableViews.get(child.viewType);\n    if (!reusable) {\n      reusable = [];\n      this.reusableViews.set(child.viewType, reusable);\n    }\n    reusable.push(child);\n  }\n  constructor(virtualizer) {\n    this.virtualizer = virtualizer;\n    this.key = ++$ad1d98aa8f0c31b4$var$KEY;\n    this.parent = null;\n    this.children = new Set();\n    this.reusableViews = new Map();\n  }\n}\nexport { $ad1d98aa8f0c31b4$export$1a5223887c560441 as ReusableView };","map":{"version":3,"names":["$ad1d98aa8f0c31b4$var$KEY","$ad1d98aa8f0c31b4$export$1a5223887c560441","prepareForReuse","content","rendered","layoutInfo","getReusableView","reuseType","reusable","reusableViews","get","view","length","shift","virtualizer","viewType","parent","reuseChild","child","set","push","constructor","key","children","Set","Map"],"sources":["/Users/oscar.meunier/Documents/Coding/Personal/final/goodreads/node_modules/@react-stately/virtualizer/dist/packages/@react-stately/virtualizer/src/ReusableView.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Key} from '@react-types/shared';\nimport {LayoutInfo} from './LayoutInfo';\nimport {Virtualizer} from './Virtualizer';\n\nlet KEY = 0;\n\n/**\n * [Virtualizer]{@link Virtualizer} creates instances of the [ReusableView]{@link ReusableView} class to\n * represent views currently being displayed.\n */\nexport class ReusableView<T extends object, V> {\n  /** The Virtualizer this view is a part of. */\n  virtualizer: Virtualizer<T, V>;\n\n  /** The LayoutInfo this view is currently representing. */\n  layoutInfo: LayoutInfo | null;\n\n  /** The content currently being displayed by this view, set by the virtualizer. */\n  content: T;\n\n  rendered: V;\n\n  viewType: string;\n  key: Key;\n\n  parent: ReusableView<T, V> | null;\n  children: Set<ReusableView<T, V>>;\n  reusableViews: Map<string, ReusableView<T, V>[]>;\n\n  constructor(virtualizer: Virtualizer<T, V>) {\n    this.virtualizer = virtualizer;\n    this.key = ++KEY;\n    this.parent = null;\n    this.children = new Set();\n    this.reusableViews = new Map();\n  }\n\n  /**\n   * Prepares the view for reuse. Called just before the view is removed from the DOM.\n   */\n  prepareForReuse() {\n    this.content = null;\n    this.rendered = null;\n    this.layoutInfo = null;\n  }\n\n  getReusableView(reuseType: string) {\n    // Reusable view queue should be FIFO so that DOM order remains consistent during scrolling.\n    // For example, cells within a row should remain in the same order even if the row changes contents.\n    // The cells within a row are removed from their parent in order. If the row is reused, the cells\n    // should be reused in the new row in the same order they were before.\n    let reusable = this.reusableViews.get(reuseType);\n    let view = reusable?.length > 0\n      ? reusable.shift()\n      : new ReusableView<T, V>(this.virtualizer);\n\n    view.viewType = reuseType;\n    view.parent = this;\n    return view;\n  }\n\n  reuseChild(child: ReusableView<T, V>) {\n    child.prepareForReuse();\n    let reusable = this.reusableViews.get(child.viewType);\n    if (!reusable) {\n      reusable = [];\n      this.reusableViews.set(child.viewType, reusable);\n    }\n    reusable.push(child);\n  }\n}\n"],"mappings":"AAAA;;;;;;;;;;GAgBA,IAAIA,yBAAA,GAAM;AAMH,MAAMC,yCAAA;EA2BX;;;EAGAC,gBAAA,EAAkB;IAChB,IAAI,CAACC,OAAO,GAAG;IACf,IAAI,CAACC,QAAQ,GAAG;IAChB,IAAI,CAACC,UAAU,GAAG;EACpB;EAEAC,gBAAgBC,SAAiB,EAAE;IACjC;IACA;IACA;IACA;IACA,IAAIC,QAAA,GAAW,IAAI,CAACC,aAAa,CAACC,GAAG,CAACH,SAAA;IACtC,IAAII,IAAA,GAAO,CAAAH,QAAA,aAAAA,QAAA,uBAAAA,QAAA,CAAUI,MAAM,IAAG,IAC1BJ,QAAA,CAASK,KAAK,KACd,IAAIZ,yCAAA,CAAmB,IAAI,CAACa,WAAW;IAE3CH,IAAA,CAAKI,QAAQ,GAAGR,SAAA;IAChBI,IAAA,CAAKK,MAAM,GAAG,IAAI;IAClB,OAAOL,IAAA;EACT;EAEAM,WAAWC,KAAyB,EAAE;IACpCA,KAAA,CAAMhB,eAAe;IACrB,IAAIM,QAAA,GAAW,IAAI,CAACC,aAAa,CAACC,GAAG,CAACQ,KAAA,CAAMH,QAAQ;IACpD,IAAI,CAACP,QAAA,EAAU;MACbA,QAAA,GAAW,EAAE;MACb,IAAI,CAACC,aAAa,CAACU,GAAG,CAACD,KAAA,CAAMH,QAAQ,EAAEP,QAAA;IACzC;IACAA,QAAA,CAASY,IAAI,CAACF,KAAA;EAChB;EAxCAG,YAAYP,WAA8B,EAAE;IAC1C,IAAI,CAACA,WAAW,GAAGA,WAAA;IACnB,IAAI,CAACQ,GAAG,GAAG,EAAEtB,yBAAA;IACb,IAAI,CAACgB,MAAM,GAAG;IACd,IAAI,CAACO,QAAQ,GAAG,IAAIC,GAAA;IACpB,IAAI,CAACf,aAAa,GAAG,IAAIgB,GAAA;EAC3B;AAmCF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}