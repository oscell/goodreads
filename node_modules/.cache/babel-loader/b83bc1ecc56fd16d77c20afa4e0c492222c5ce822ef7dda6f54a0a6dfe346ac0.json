{"ast":null,"code":"import { createBranchComponent as $18I52$createBranchComponent, useCachedChildren as $18I52$useCachedChildren } from \"@react-aria/collections\";\nimport $18I52$react, { createContext as $18I52$createContext, useContext as $18I52$useContext, useMemo as $18I52$useMemo } from \"react\";\n\n/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nconst $7135fc7d473fd974$export$d40e14dec8b060a8 = /*#__PURE__*/(0, $18I52$createContext)(null);\nconst $7135fc7d473fd974$export$6e2c8f0811a474ce = /*#__PURE__*/(0, $18I52$createBranchComponent)('section', (props, ref, section) => {\n  let {\n    render: render\n  } = (0, $18I52$useContext)($7135fc7d473fd974$export$d40e14dec8b060a8);\n  return render(props, ref, section);\n});\nconst $7135fc7d473fd974$export$a164736487e3f0ae = {\n  CollectionRoot({\n    collection: collection,\n    renderDropIndicator: renderDropIndicator\n  }) {\n    return $7135fc7d473fd974$var$useCollectionRender(collection, null, renderDropIndicator);\n  },\n  CollectionBranch({\n    collection: collection,\n    parent: parent,\n    renderDropIndicator: renderDropIndicator\n  }) {\n    return $7135fc7d473fd974$var$useCollectionRender(collection, parent, renderDropIndicator);\n  }\n};\nfunction $7135fc7d473fd974$var$useCollectionRender(collection, parent, renderDropIndicator) {\n  return (0, $18I52$useCachedChildren)({\n    items: parent ? collection.getChildren(parent.key) : collection,\n    dependencies: [renderDropIndicator],\n    children(node) {\n      var _collection_getItem;\n      let rendered = node.render(node);\n      if (!renderDropIndicator || node.type !== 'item') return rendered;\n      let key = node.key;\n      let keyAfter = collection.getKeyAfter(key);\n      return /*#__PURE__*/(0, $18I52$react).createElement((0, $18I52$react).Fragment, null, renderDropIndicator({\n        type: 'item',\n        key: key,\n        dropPosition: 'before'\n      }), rendered, (keyAfter == null || ((_collection_getItem = collection.getItem(keyAfter)) === null || _collection_getItem === void 0 ? void 0 : _collection_getItem.type) !== 'item') && renderDropIndicator({\n        type: 'item',\n        key: key,\n        dropPosition: 'after'\n      }));\n    }\n  });\n}\nconst $7135fc7d473fd974$export$4feb769f8ddf26c5 = /*#__PURE__*/(0, $18I52$createContext)($7135fc7d473fd974$export$a164736487e3f0ae);\nfunction $7135fc7d473fd974$export$90e00781bc59d8f9(focusedKey) {\n  return (0, $18I52$useMemo)(() => focusedKey != null ? new Set([focusedKey]) : null, [focusedKey]);\n}\nexport { $7135fc7d473fd974$export$d40e14dec8b060a8 as SectionContext, $7135fc7d473fd974$export$6e2c8f0811a474ce as Section, $7135fc7d473fd974$export$a164736487e3f0ae as DefaultCollectionRenderer, $7135fc7d473fd974$export$4feb769f8ddf26c5 as CollectionRendererContext, $7135fc7d473fd974$export$90e00781bc59d8f9 as usePersistedKeys };","map":{"version":3,"names":["$7135fc7d473fd974$export$d40e14dec8b060a8","$18I52$createContext","$7135fc7d473fd974$export$6e2c8f0811a474ce","$18I52$createBranchComponent","props","ref","section","render","$18I52$useContext","$7135fc7d473fd974$export$a164736487e3f0ae","CollectionRoot","collection","renderDropIndicator","$7135fc7d473fd974$var$useCollectionRender","CollectionBranch","parent","$18I52$useCachedChildren","items","getChildren","key","dependencies","children","node","_collection_getItem","rendered","type","keyAfter","getKeyAfter","$18I52$react","createElement","Fragment","dropPosition","getItem","$7135fc7d473fd974$export$4feb769f8ddf26c5","$7135fc7d473fd974$export$90e00781bc59d8f9","focusedKey","$18I52$useMemo","Set"],"sources":["/Users/oscar.meunier/Documents/Coding/Personal/final/goodreads/node_modules/react-aria-components/dist/packages/react-aria-components/src/Collection.tsx"],"sourcesContent":["/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {CollectionBase, DropTargetDelegate, ItemDropTarget, Key, LayoutDelegate, RefObject} from '@react-types/shared';\nimport {createBranchComponent, useCachedChildren} from '@react-aria/collections';\nimport {Collection as ICollection, Node, SelectionBehavior, SelectionMode, SectionProps as SharedSectionProps} from 'react-stately';\nimport React, {createContext, ForwardedRef, HTMLAttributes, JSX, ReactElement, ReactNode, useContext, useMemo} from 'react';\nimport {StyleProps} from './utils';\n\nexport interface CollectionProps<T> extends Omit<CollectionBase<T>, 'children'> {\n  /** The contents of the collection. */\n  children?: ReactNode | ((item: T) => ReactNode),\n  /** Values that should invalidate the item cache when using dynamic collections. */\n  dependencies?: any[]\n}\n\nexport interface ItemRenderProps {\n  /**\n   * Whether the item is currently hovered with a mouse.\n   * @selector [data-hovered]\n   */\n  isHovered: boolean,\n  /**\n   * Whether the item is currently in a pressed state.\n   * @selector [data-pressed]\n   */\n  isPressed: boolean,\n  /**\n   * Whether the item is currently selected.\n   * @selector [data-selected]\n   */\n  isSelected: boolean,\n  /**\n   * Whether the item is currently focused.\n   * @selector [data-focused]\n   */\n  isFocused: boolean,\n  /**\n   * Whether the item is currently keyboard focused.\n   * @selector [data-focus-visible]\n   */\n  isFocusVisible: boolean,\n  /**\n   * Whether the item is non-interactive, i.e. both selection and actions are disabled and the item may\n   * not be focused. Dependent on `disabledKeys` and `disabledBehavior`.\n   * @selector [data-disabled]\n   */\n  isDisabled: boolean,\n  /**\n   * The type of selection that is allowed in the collection.\n   * @selector [data-selection-mode=\"single | multiple\"]\n   */\n  selectionMode: SelectionMode,\n  /** The selection behavior for the collection. */\n  selectionBehavior: SelectionBehavior,\n  /**\n   * Whether the item allows dragging.\n   * @note This property is only available in collection components that support drag and drop.\n   * @selector [data-allows-dragging]\n   */\n  allowsDragging?: boolean,\n  /**\n   * Whether the item is currently being dragged.\n   * @note This property is only available in collection components that support drag and drop.\n   * @selector [data-dragging]\n   */\n  isDragging?: boolean,\n  /**\n   * Whether the item is currently an active drop target.\n   * @note This property is only available in collection components that support drag and drop.\n   * @selector [data-drop-target]\n   */\n  isDropTarget?: boolean\n}\n\nexport interface SectionProps<T> extends Omit<SharedSectionProps<T>, 'children' | 'title'>, StyleProps {\n  /** The unique id of the section. */\n  id?: Key,\n  /** The object value that this section represents. When using dynamic collections, this is set automatically. */\n  value?: T,\n  /** Static child items or a function to render children. */\n  children?: ReactNode | ((item: T) => ReactElement),\n  /** Values that should invalidate the item cache when using dynamic collections. */\n  dependencies?: any[]\n}\n\ninterface SectionContextValue {\n  render: (props: SectionProps<any>, ref: ForwardedRef<HTMLElement>, section: Node<any>) => ReactElement\n}\n\nexport const SectionContext = createContext<SectionContextValue | null>(null);\n\nexport const Section = /*#__PURE__*/ createBranchComponent('section', <T extends object>(props: SectionProps<T>, ref: ForwardedRef<HTMLElement>, section: Node<T>): JSX.Element => {\n  let {render} = useContext(SectionContext)!;\n  return render(props, ref, section);\n});\n\nexport interface CollectionBranchProps {\n  /** The collection of items to render. */\n  collection: ICollection<Node<unknown>>,\n  /** The parent node of the items to render. */\n  parent: Node<unknown>,\n  /** A function that renders a drop indicator between items. */\n  renderDropIndicator?: (target: ItemDropTarget) => ReactNode\n}\n\nexport interface CollectionRootProps extends HTMLAttributes<HTMLElement> {\n  /** The collection of items to render. */\n  collection: ICollection<Node<unknown>>,\n  /** A set of keys for items that should always be persisted in the DOM. */\n  persistedKeys?: Set<Key> | null,\n  /** A ref to the scroll container for the collection. */\n  scrollRef?: RefObject<HTMLElement | null>,\n  /** A function that renders a drop indicator between items. */\n  renderDropIndicator?: (target: ItemDropTarget) => ReactNode\n}\n\nexport interface CollectionRenderer {\n  /** Whether this is a virtualized collection. */\n  isVirtualized?: boolean,\n  /** A delegate object that provides layout information for items in the collection. */\n  layoutDelegate?: LayoutDelegate,\n  /** A delegate object that provides drop targets for pointer coordinates within the collection. */\n  dropTargetDelegate?: DropTargetDelegate,\n  /** A component that renders the root collection items. */\n  CollectionRoot: React.ComponentType<CollectionRootProps>,\n   /** A component that renders the child collection items. */\n  CollectionBranch: React.ComponentType<CollectionBranchProps>\n}\n\nexport const DefaultCollectionRenderer: CollectionRenderer = {\n  CollectionRoot({collection, renderDropIndicator}) {\n    return useCollectionRender(collection, null, renderDropIndicator);\n  },\n  CollectionBranch({collection, parent, renderDropIndicator}) {\n    return useCollectionRender(collection, parent, renderDropIndicator);\n  }\n};\n\nfunction useCollectionRender(\n  collection: ICollection<Node<unknown>>,\n  parent: Node<unknown> | null,\n  renderDropIndicator?: (target: ItemDropTarget) => ReactNode\n) {\n  return useCachedChildren({\n    items: parent ? collection.getChildren!(parent.key) : collection,\n    dependencies: [renderDropIndicator],\n    children(node) {\n      let rendered = node.render!(node);\n      if (!renderDropIndicator || node.type !== 'item') {\n        return rendered;\n      }\n\n      let key = node.key;\n      let keyAfter = collection.getKeyAfter(key);\n      return (\n        <>\n          {renderDropIndicator({type: 'item', key, dropPosition: 'before'})}\n          {rendered}\n          {((keyAfter == null || collection.getItem(keyAfter)?.type !== 'item')) && renderDropIndicator({type: 'item', key, dropPosition: 'after'})}\n        </>\n      );\n    }\n  });\n}\n\nexport const CollectionRendererContext = createContext<CollectionRenderer>(DefaultCollectionRenderer);\n\nexport function usePersistedKeys(focusedKey: Key) {\n  return useMemo(() => focusedKey != null ? new Set([focusedKey]) : null, [focusedKey]);\n}\n"],"mappings":";;;AAAA;;;;;;;;;;;;AAkGO,MAAMA,yCAAA,gBAAiB,IAAAC,oBAAY,EAA8B;AAEjE,MAAMC,yCAAA,GAAU,aAAc,IAAAC,4BAAoB,EAAE,WAAW,CAAmBC,KAAA,EAAwBC,GAAA,EAAgCC,OAAA;EAC/I,IAAI;IAAAC,MAAA,EAACA;EAAM,CAAC,GAAG,IAAAC,iBAAS,EAAER,yCAAA;EAC1B,OAAOO,MAAA,CAAOH,KAAA,EAAOC,GAAA,EAAKC,OAAA;AAC5B;AAmCO,MAAMG,yCAAA,GAAgD;EAC3DC,eAAe;IAAAC,UAAA,EAACA,UAAU;IAAAC,mBAAA,EAAEA;EAAmB,CAAC;IAC9C,OAAOC,yCAAA,CAAoBF,UAAA,EAAY,MAAMC,mBAAA;EAC/C;EACAE,iBAAiB;IAAAH,UAAA,EAACA,UAAU;IAAAI,MAAA,EAAEA,MAAM;IAAAH,mBAAA,EAAEA;EAAmB,CAAC;IACxD,OAAOC,yCAAA,CAAoBF,UAAA,EAAYI,MAAA,EAAQH,mBAAA;EACjD;AACF;AAEA,SAASC,0CACPF,UAAsC,EACtCI,MAA4B,EAC5BH,mBAA2D;EAE3D,OAAO,IAAAI,wBAAgB,EAAE;IACvBC,KAAA,EAAOF,MAAA,GAASJ,UAAA,CAAWO,WAAW,CAAEH,MAAA,CAAOI,GAAG,IAAIR,UAAA;IACtDS,YAAA,EAAc,CAACR,mBAAA,CAAoB;IACnCS,SAASC,IAAI;UAYgBC,mBAAA;MAX3B,IAAIC,QAAA,GAAWF,IAAA,CAAKf,MAAM,CAAEe,IAAA;MAC5B,IAAI,CAACV,mBAAA,IAAuBU,IAAA,CAAKG,IAAI,KAAK,QACxC,OAAOD,QAAA;MAGT,IAAIL,GAAA,GAAMG,IAAA,CAAKH,GAAG;MAClB,IAAIO,QAAA,GAAWf,UAAA,CAAWgB,WAAW,CAACR,GAAA;MACtC,oBACE,IAAAS,YAAA,EAAAC,aAAA,KAAAD,YAAA,EAAAE,QAAA,QACGlB,mBAAA,CAAoB;QAACa,IAAA,EAAM;aAAQN,GAAA;QAAKY,YAAA,EAAc;MAAQ,IAC9DP,QAAA,EACA,CAAEE,QAAA,IAAY,QAAQ,EAAAH,mBAAA,GAAAZ,UAAA,CAAWqB,OAAO,CAACN,QAAA,eAAnBH,mBAAA,uBAAAA,mBAAA,CAA8BE,IAAI,MAAK,MAAK,KAAOb,mBAAA,CAAoB;QAACa,IAAA,EAAM;aAAQN,GAAA;QAAKY,YAAA,EAAc;MAAO;IAG7I;EACF;AACF;AAEO,MAAME,yCAAA,gBAA4B,IAAAhC,oBAAY,EAAsBQ,yCAAA;AAEpE,SAASyB,0CAAiBC,UAAe;EAC9C,OAAO,IAAAC,cAAM,EAAE,MAAMD,UAAA,IAAc,OAAO,IAAIE,GAAA,CAAI,CAACF,UAAA,CAAW,IAAI,MAAM,CAACA,UAAA,CAAW;AACtF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}