{"ast":null,"code":"import $4oXwn$intlStringsmodulejs from \"./intlStrings.mjs\";\nimport { MenuContext as $d94604d52c3e3feb$export$c7e742effb1c51e2, MenuStateContext as $d94604d52c3e3feb$export$24aad8519b95b41b, useMenuStateContext as $d94604d52c3e3feb$export$efa3856fc0e85e7f } from \"./context.mjs\";\nimport { MenuItem as $48fb8f5e1202c980$export$2ce376c2cc3355c8 } from \"./MenuItem.mjs\";\nimport { MenuSection as $b966e606890cc5ca$export$4b1545b4f2016d26 } from \"./MenuSection.mjs\";\nimport \"./vars.a1f9fd59.css\";\nimport $4oXwn$menu_vars_cssmodulejs from \"./menu_vars_css.mjs\";\nimport { ActionButton as $4oXwn$ActionButton } from \"@react-spectrum/button\";\nimport $4oXwn$spectrumiconsuiArrowDownSmall from \"@spectrum-icons/ui/ArrowDownSmall\";\nimport { useDOMRef as $4oXwn$useDOMRef, useStyleProps as $4oXwn$useStyleProps, classNames as $4oXwn$classNames, useIsMobileDevice as $4oXwn$useIsMobileDevice } from \"@react-spectrum/utils\";\nimport { FocusScope as $4oXwn$FocusScope } from \"@react-aria/focus\";\nimport { mergeProps as $4oXwn$mergeProps, useSyncRef as $4oXwn$useSyncRef, useSlotId as $4oXwn$useSlotId, useLayoutEffect as $4oXwn$useLayoutEffect } from \"@react-aria/utils\";\nimport $4oXwn$react, { useContext as $4oXwn$useContext, useState as $4oXwn$useState, useRef as $4oXwn$useRef, useEffect as $4oXwn$useEffect } from \"react\";\nimport { useInteractOutside as $4oXwn$useInteractOutside } from \"@react-aria/interactions\";\nimport { useLocalizedStringFormatter as $4oXwn$useLocalizedStringFormatter, useLocale as $4oXwn$useLocale } from \"@react-aria/i18n\";\nimport { useMenu as $4oXwn$useMenu } from \"@react-aria/menu\";\nimport { useTreeState as $4oXwn$useTreeState } from \"@react-stately/tree\";\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction $49b26f4b606348f6$var$Menu(props, ref) {\n  let isSubmenu = true;\n  let contextProps = (0, $4oXwn$useContext)((0, $d94604d52c3e3feb$export$c7e742effb1c51e2));\n  let parentMenuContext = (0, $d94604d52c3e3feb$export$efa3856fc0e85e7f)();\n  let {\n    rootMenuTriggerState: rootMenuTriggerState,\n    state: parentMenuTreeState\n  } = parentMenuContext || {\n    rootMenuTriggerState: contextProps.state\n  };\n  if (!parentMenuContext) isSubmenu = false;\n  let completeProps = {\n    ...(0, $4oXwn$mergeProps)(contextProps, props)\n  };\n  let domRef = (0, $4oXwn$useDOMRef)(ref);\n  let [popoverContainer, setPopoverContainer] = (0, $4oXwn$useState)(null);\n  let trayContainerRef = (0, $4oXwn$useRef)(null);\n  let state = (0, $4oXwn$useTreeState)(completeProps);\n  let submenuRef = (0, $4oXwn$useRef)(null);\n  let {\n    menuProps: menuProps\n  } = (0, $4oXwn$useMenu)(completeProps, state, domRef);\n  let {\n    styleProps: styleProps\n  } = (0, $4oXwn$useStyleProps)(completeProps);\n  (0, $4oXwn$useSyncRef)(contextProps, domRef);\n  let [leftOffset, setLeftOffset] = (0, $4oXwn$useState)({\n    left: 0\n  });\n  let prevPopoverContainer = (0, $4oXwn$useRef)(null);\n  (0, $4oXwn$useEffect)(() => {\n    if (popoverContainer && prevPopoverContainer.current !== popoverContainer && leftOffset.left === 0) {\n      prevPopoverContainer.current = popoverContainer;\n      let {\n        left: left\n      } = popoverContainer.getBoundingClientRect();\n      setLeftOffset({\n        left: -1 * left\n      });\n    }\n  }, [leftOffset, popoverContainer]);\n  var _contextProps_submenuLevel;\n  let menuLevel = (_contextProps_submenuLevel = contextProps.submenuLevel) !== null && _contextProps_submenuLevel !== void 0 ? _contextProps_submenuLevel : -1;\n  let hasOpenSubmenu = state.collection.getItem(rootMenuTriggerState === null || rootMenuTriggerState === void 0 ? void 0 : rootMenuTriggerState.expandedKeysStack[menuLevel + 1]) != null;\n  (0, $4oXwn$useInteractOutside)({\n    ref: domRef,\n    onInteractOutside: e => {\n      var _trayContainerRef_current;\n      if (!(popoverContainer === null || popoverContainer === void 0 ? void 0 : popoverContainer.contains(e.target)) && !((_trayContainerRef_current = trayContainerRef.current) === null || _trayContainerRef_current === void 0 ? void 0 : _trayContainerRef_current.contains(e.target))) rootMenuTriggerState.close();\n    },\n    isDisabled: isSubmenu || !hasOpenSubmenu\n  });\n  return /*#__PURE__*/(0, $4oXwn$react).createElement((0, $d94604d52c3e3feb$export$24aad8519b95b41b).Provider, {\n    value: {\n      popoverContainer: popoverContainer,\n      trayContainerRef: trayContainerRef,\n      menu: domRef,\n      submenu: submenuRef,\n      rootMenuTriggerState: rootMenuTriggerState,\n      state: state\n    }\n  }, /*#__PURE__*/(0, $4oXwn$react).createElement(\"div\", {\n    style: {\n      height: hasOpenSubmenu ? '100%' : undefined\n    },\n    ref: trayContainerRef\n  }), /*#__PURE__*/(0, $4oXwn$react).createElement((0, $4oXwn$FocusScope), null, /*#__PURE__*/(0, $4oXwn$react).createElement($49b26f4b606348f6$export$3dfe97b5c32d8d8c, {\n    onBackButtonPress: contextProps.onBackButtonPress,\n    hasOpenSubmenu: hasOpenSubmenu,\n    isSubmenu: isSubmenu,\n    parentMenuTreeState: parentMenuTreeState,\n    rootMenuTriggerState: rootMenuTriggerState,\n    menuRef: domRef\n  }, /*#__PURE__*/(0, $4oXwn$react).createElement(\"div\", {\n    ...menuProps,\n    style: (0, $4oXwn$mergeProps)(styleProps.style, menuProps.style),\n    ref: domRef,\n    className: (0, $4oXwn$classNames)((0, $parcel$interopDefault($4oXwn$menu_vars_cssmodulejs)), 'spectrum-Menu', styleProps.className)\n  }, [...state.collection].map(item => {\n    if (item.type === 'section') return /*#__PURE__*/(0, $4oXwn$react).createElement((0, $b966e606890cc5ca$export$4b1545b4f2016d26), {\n      key: item.key,\n      item: item,\n      state: state\n    });\n    let menuItem = /*#__PURE__*/(0, $4oXwn$react).createElement((0, $48fb8f5e1202c980$export$2ce376c2cc3355c8), {\n      key: item.key,\n      item: item,\n      state: state\n    });\n    if (item.wrapper) menuItem = item.wrapper(menuItem);\n    return menuItem;\n  }))), (rootMenuTriggerState === null || rootMenuTriggerState === void 0 ? void 0 : rootMenuTriggerState.isOpen) && /*#__PURE__*/(0, $4oXwn$react).createElement(\"div\", {\n    ref: setPopoverContainer,\n    style: {\n      width: '100vw',\n      position: 'absolute',\n      top: -5,\n      ...leftOffset\n    }\n  })));\n}\nfunction $49b26f4b606348f6$export$3dfe97b5c32d8d8c(props) {\n  var _parentMenuTreeState_collection_getItem;\n  let {\n    children: children,\n    isSubmenu: isSubmenu,\n    hasOpenSubmenu: hasOpenSubmenu,\n    parentMenuTreeState: parentMenuTreeState,\n    rootMenuTriggerState: rootMenuTriggerState,\n    onBackButtonPress: onBackButtonPress,\n    wrapperKeyDown: wrapperKeyDown,\n    menuRef: menuRef\n  } = props;\n  let stringFormatter = (0, $4oXwn$useLocalizedStringFormatter)((0, $parcel$interopDefault($4oXwn$intlStringsmodulejs)), '@react-spectrum/menu');\n  let backButtonText = parentMenuTreeState === null || parentMenuTreeState === void 0 ? void 0 : (_parentMenuTreeState_collection_getItem = parentMenuTreeState.collection.getItem(rootMenuTriggerState === null || rootMenuTriggerState === void 0 ? void 0 : rootMenuTriggerState.expandedKeysStack.slice(-1)[0])) === null || _parentMenuTreeState_collection_getItem === void 0 ? void 0 : _parentMenuTreeState_collection_getItem.textValue;\n  let backButtonLabel = stringFormatter.format('backButton', {\n    prevMenuButton: backButtonText\n  });\n  let headingId = (0, $4oXwn$useSlotId)();\n  let isMobile = (0, $4oXwn$useIsMobileDevice)();\n  let {\n    direction: direction\n  } = (0, $4oXwn$useLocale)();\n  let [traySubmenuAnimation, setTraySubmenuAnimation] = (0, $4oXwn$useState)('');\n  (0, $4oXwn$useLayoutEffect)(() => {\n    if (!hasOpenSubmenu) setTraySubmenuAnimation('spectrum-TraySubmenu-enter');\n  }, [hasOpenSubmenu, isMobile]);\n  let timeoutRef = (0, $4oXwn$useRef)(null);\n  let handleBackButtonPress = () => {\n    setTraySubmenuAnimation('spectrum-TraySubmenu-exit');\n    timeoutRef.current = setTimeout(() => {\n      onBackButtonPress();\n    }, 220); // Matches transition duration\n  };\n  (0, $4oXwn$useEffect)(() => {\n    return () => {\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  // When opening submenu in tray, focus the first item in the submenu after animation completes\n  // This fixes an issue with iOS VO where the closed submenu was getting focus\n  let focusTimeoutRef = (0, $4oXwn$useRef)(null);\n  (0, $4oXwn$useEffect)(() => {\n    if (isMobile && isSubmenu && !hasOpenSubmenu && traySubmenuAnimation === 'spectrum-TraySubmenu-enter') focusTimeoutRef.current = setTimeout(() => {\n      let firstItem = menuRef.current.querySelector('[role=\"menuitem\"], [role=\"menuitemcheckbox\"], [role=\"menuitemradio\"]');\n      firstItem === null || firstItem === void 0 ? void 0 : firstItem.focus();\n    }, 220);\n    return () => {\n      if (focusTimeoutRef.current) clearTimeout(focusTimeoutRef.current);\n    };\n  }, [hasOpenSubmenu, isMobile, isSubmenu, menuRef, traySubmenuAnimation]);\n  return /*#__PURE__*/(0, $4oXwn$react).createElement((0, $4oXwn$react).Fragment, null, /*#__PURE__*/(0, $4oXwn$react).createElement(\"div\", {\n    role: headingId ? 'dialog' : undefined,\n    \"aria-labelledby\": headingId,\n    \"aria-hidden\": isMobile && hasOpenSubmenu,\n    \"data-testid\": \"menu-wrapper\",\n    className: (0, $4oXwn$classNames)((0, $parcel$interopDefault($4oXwn$menu_vars_cssmodulejs)), 'spectrum-Menu-wrapper', {\n      'spectrum-Menu-wrapper--isMobile': isMobile,\n      'is-expanded': hasOpenSubmenu,\n      [traySubmenuAnimation]: isMobile\n    })\n  }, /*#__PURE__*/(0, $4oXwn$react).createElement(\"div\", {\n    role: \"presentation\",\n    className: (0, $4oXwn$classNames)((0, $parcel$interopDefault($4oXwn$menu_vars_cssmodulejs)), 'spectrum-Submenu-wrapper', {\n      'spectrum-Submenu-wrapper--isMobile': isMobile\n    }),\n    onKeyDown: wrapperKeyDown\n  }, isMobile && isSubmenu && !hasOpenSubmenu && /*#__PURE__*/(0, $4oXwn$react).createElement(\"div\", {\n    className: (0, $4oXwn$classNames)((0, $parcel$interopDefault($4oXwn$menu_vars_cssmodulejs)), 'spectrum-Submenu-headingWrapper')\n  }, /*#__PURE__*/(0, $4oXwn$react).createElement((0, $4oXwn$ActionButton), {\n    \"aria-label\": backButtonLabel,\n    isQuiet: true,\n    onPress: handleBackButtonPress\n  }, direction === 'rtl' ? /*#__PURE__*/(0, $4oXwn$react).createElement((0, $4oXwn$spectrumiconsuiArrowDownSmall), {\n    UNSAFE_style: {\n      rotate: '270deg'\n    }\n  }) : /*#__PURE__*/(0, $4oXwn$react).createElement((0, $4oXwn$spectrumiconsuiArrowDownSmall), {\n    UNSAFE_style: {\n      rotate: '90deg'\n    }\n  })), /*#__PURE__*/(0, $4oXwn$react).createElement(\"h1\", {\n    id: headingId,\n    className: (0, $4oXwn$classNames)((0, $parcel$interopDefault($4oXwn$menu_vars_cssmodulejs)), 'spectrum-Submenu-heading')\n  }, backButtonText)), children)));\n}\n/**\n * Menus display a list of actions or options that a user can choose.\n */ // forwardRef doesn't support generic parameters, so cast the result to the correct type\n// https://stackoverflow.com/questions/58469229/react-with-typescript-generics-while-using-react-forwardref\nconst $49b26f4b606348f6$export$d9b273488cd8ce6f = /*#__PURE__*/(0, $4oXwn$react).forwardRef($49b26f4b606348f6$var$Menu);\nexport { $49b26f4b606348f6$export$3dfe97b5c32d8d8c as TrayHeaderWrapper, $49b26f4b606348f6$export$d9b273488cd8ce6f as Menu };","map":{"version":3,"names":["$49b26f4b606348f6$var$Menu","props","ref","isSubmenu","contextProps","$4oXwn$useContext","$d94604d52c3e3feb$export$c7e742effb1c51e2","parentMenuContext","$d94604d52c3e3feb$export$efa3856fc0e85e7f","rootMenuTriggerState","state","parentMenuTreeState","completeProps","$4oXwn$mergeProps","domRef","$4oXwn$useDOMRef","popoverContainer","setPopoverContainer","$4oXwn$useState","trayContainerRef","$4oXwn$useRef","$4oXwn$useTreeState","submenuRef","menuProps","$4oXwn$useMenu","styleProps","$4oXwn$useStyleProps","$4oXwn$useSyncRef","leftOffset","setLeftOffset","left","prevPopoverContainer","$4oXwn$useEffect","current","getBoundingClientRect","_contextProps_submenuLevel","menuLevel","submenuLevel","hasOpenSubmenu","collection","getItem","expandedKeysStack","$4oXwn$useInteractOutside","onInteractOutside","e","_trayContainerRef_current","contains","target","close","isDisabled","$4oXwn$react","createElement","$d94604d52c3e3feb$export$24aad8519b95b41b","Provider","value","menu","submenu","style","height","undefined","$4oXwn$FocusScope","$49b26f4b606348f6$export$3dfe97b5c32d8d8c","onBackButtonPress","menuRef","className","$4oXwn$classNames","$parcel$interopDefault","$4oXwn$menu_vars_cssmodulejs","map","item","type","$b966e606890cc5ca$export$4b1545b4f2016d26","key","menuItem","$48fb8f5e1202c980$export$2ce376c2cc3355c8","wrapper","isOpen","width","position","top","_parentMenuTreeState_collection_getItem","children","wrapperKeyDown","stringFormatter","$4oXwn$useLocalizedStringFormatter","$4oXwn$intlStringsmodulejs","backButtonText","slice","textValue","backButtonLabel","format","prevMenuButton","headingId","$4oXwn$useSlotId","isMobile","$4oXwn$useIsMobileDevice","direction","$4oXwn$useLocale","traySubmenuAnimation","setTraySubmenuAnimation","$4oXwn$useLayoutEffect","timeoutRef","handleBackButtonPress","setTimeout","clearTimeout","focusTimeoutRef","firstItem","querySelector","focus","Fragment","role","onKeyDown","$4oXwn$ActionButton","isQuiet","onPress","$4oXwn$spectrumiconsuiArrowDownSmall","UNSAFE_style","rotate","id","$49b26f4b606348f6$export$d9b273488cd8ce6f","forwardRef"],"sources":["/Users/oscar.meunier/Documents/Coding/Personal/final/goodreads/node_modules/@react-spectrum/menu/dist/packages/@react-spectrum/menu/src/Menu.tsx"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ActionButton} from '@react-spectrum/button';\nimport ArrowDownSmall from '@spectrum-icons/ui/ArrowDownSmall';\nimport {classNames, useDOMRef, useIsMobileDevice, useStyleProps} from '@react-spectrum/utils';\nimport {DOMRef} from '@react-types/shared';\nimport {FocusScope} from '@react-aria/focus';\n// @ts-ignore\nimport intlMessages from '../intl/*.json';\nimport {MenuContext, MenuStateContext, useMenuStateContext} from './context';\nimport {MenuItem} from './MenuItem';\nimport {MenuSection} from './MenuSection';\nimport {mergeProps, useLayoutEffect, useSlotId, useSyncRef} from '@react-aria/utils';\nimport React, {ReactElement, useContext, useEffect, useRef, useState} from 'react';\nimport {SpectrumMenuProps} from '@react-types/menu';\nimport styles from '@adobe/spectrum-css-temp/components/menu/vars.css';\nimport {useInteractOutside} from '@react-aria/interactions';\nimport {useLocale, useLocalizedStringFormatter} from '@react-aria/i18n';\nimport {useMenu} from '@react-aria/menu';\nimport {useTreeState} from '@react-stately/tree';\n\nfunction Menu<T extends object>(props: SpectrumMenuProps<T>, ref: DOMRef<HTMLDivElement>) {\n  let isSubmenu = true;\n  let contextProps = useContext(MenuContext);\n  let parentMenuContext = useMenuStateContext();\n  let {rootMenuTriggerState, state: parentMenuTreeState} = parentMenuContext || {rootMenuTriggerState: contextProps.state};\n  if (!parentMenuContext) {\n    isSubmenu = false;\n  }\n  let completeProps = {\n    ...mergeProps(contextProps, props)\n  };\n  let domRef = useDOMRef(ref);\n  let [popoverContainer, setPopoverContainer] = useState(null);\n  let trayContainerRef = useRef(null);\n  let state = useTreeState(completeProps);\n  let submenuRef = useRef<HTMLDivElement>(null);\n  let {menuProps} = useMenu(completeProps, state, domRef);\n  let {styleProps} = useStyleProps(completeProps);\n  useSyncRef(contextProps, domRef);\n  let [leftOffset, setLeftOffset] = useState({left: 0});\n  let prevPopoverContainer = useRef(null);\n  useEffect(() => {\n    if (popoverContainer && prevPopoverContainer.current !== popoverContainer && leftOffset.left === 0) {\n      prevPopoverContainer.current = popoverContainer;\n      let {left} = popoverContainer.getBoundingClientRect();\n      setLeftOffset({left: -1 * left});\n    }\n  }, [leftOffset, popoverContainer]);\n\n  let menuLevel = contextProps.submenuLevel ?? -1;\n  let hasOpenSubmenu = state.collection.getItem(rootMenuTriggerState?.expandedKeysStack[menuLevel + 1]) != null;\n  useInteractOutside({\n    ref: domRef,\n    onInteractOutside: (e) => {\n      if (!popoverContainer?.contains(e.target) && !trayContainerRef.current?.contains(e.target)) {\n        rootMenuTriggerState.close();\n      }\n    },\n    isDisabled: isSubmenu || !hasOpenSubmenu\n  });\n\n  return (\n    <MenuStateContext.Provider value={{popoverContainer, trayContainerRef, menu: domRef, submenu: submenuRef, rootMenuTriggerState, state}}>\n      <div style={{height: hasOpenSubmenu ? '100%' : undefined}} ref={trayContainerRef} />\n      <FocusScope>\n        <TrayHeaderWrapper\n          onBackButtonPress={contextProps.onBackButtonPress}\n          hasOpenSubmenu={hasOpenSubmenu}\n          isSubmenu={isSubmenu}\n          parentMenuTreeState={parentMenuTreeState}\n          rootMenuTriggerState={rootMenuTriggerState}\n          menuRef={domRef}>\n          <div\n            {...menuProps}\n            style={mergeProps(styleProps.style, menuProps.style)}\n            ref={domRef}\n            className={\n              classNames(\n                styles,\n                'spectrum-Menu',\n                styleProps.className\n              )\n            }>\n            {[...state.collection].map(item => {\n              if (item.type === 'section') {\n                return (\n                  <MenuSection\n                    key={item.key}\n                    item={item}\n                    state={state} />\n                );\n              }\n\n              let menuItem = (\n                <MenuItem\n                  key={item.key}\n                  item={item}\n                  state={state} />\n              );\n\n              if (item.wrapper) {\n                menuItem = item.wrapper(menuItem);\n              }\n\n              return menuItem;\n            })}\n          </div>\n        </TrayHeaderWrapper>\n        {rootMenuTriggerState?.isOpen && <div ref={setPopoverContainer} style={{width: '100vw', position: 'absolute', top: -5, ...leftOffset}} /> }\n      </FocusScope>\n    </MenuStateContext.Provider>\n  );\n}\n\nexport function TrayHeaderWrapper(props) {\n  let {children, isSubmenu, hasOpenSubmenu, parentMenuTreeState, rootMenuTriggerState, onBackButtonPress, wrapperKeyDown, menuRef} = props;\n  let stringFormatter = useLocalizedStringFormatter(intlMessages, '@react-spectrum/menu');\n  let backButtonText = parentMenuTreeState?.collection.getItem(rootMenuTriggerState?.expandedKeysStack.slice(-1)[0])?.textValue;\n  let backButtonLabel = stringFormatter.format('backButton', {\n    prevMenuButton: backButtonText\n  });\n  let headingId = useSlotId();\n  let isMobile = useIsMobileDevice();\n  let {direction} = useLocale();\n\n  let [traySubmenuAnimation, setTraySubmenuAnimation] = useState('');\n  useLayoutEffect(() => {\n    if (!hasOpenSubmenu) {\n      setTraySubmenuAnimation('spectrum-TraySubmenu-enter');\n    }\n  }, [hasOpenSubmenu, isMobile]);\n\n  let timeoutRef = useRef(null);\n  let handleBackButtonPress = () => {\n    setTraySubmenuAnimation('spectrum-TraySubmenu-exit');\n    timeoutRef.current = setTimeout(() => {\n      onBackButtonPress();\n    }, 220); // Matches transition duration\n  };\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  // When opening submenu in tray, focus the first item in the submenu after animation completes\n  // This fixes an issue with iOS VO where the closed submenu was getting focus\n  let focusTimeoutRef = useRef(null);\n  useEffect(() => {\n    if (isMobile && isSubmenu && !hasOpenSubmenu && traySubmenuAnimation === 'spectrum-TraySubmenu-enter') {\n      focusTimeoutRef.current = setTimeout(() => {\n        let firstItem = menuRef.current.querySelector('[role=\"menuitem\"], [role=\"menuitemcheckbox\"], [role=\"menuitemradio\"]') as HTMLElement;\n        firstItem?.focus();\n      }, 220);\n    }\n    return () => {\n      if (focusTimeoutRef.current) {\n        clearTimeout(focusTimeoutRef.current);\n      }\n    };\n  }, [hasOpenSubmenu, isMobile, isSubmenu, menuRef, traySubmenuAnimation]);\n\n  return (\n    <>\n      <div\n        role={headingId ? 'dialog' : undefined}\n        aria-labelledby={headingId}\n        aria-hidden={isMobile && hasOpenSubmenu}\n        data-testid=\"menu-wrapper\"\n        className={\n          classNames(\n            styles,\n            'spectrum-Menu-wrapper',\n            {\n              'spectrum-Menu-wrapper--isMobile': isMobile,\n              'is-expanded': hasOpenSubmenu,\n              [traySubmenuAnimation]: isMobile\n            }\n          )\n        }>\n        <div role=\"presentation\" className={classNames(styles, 'spectrum-Submenu-wrapper', {'spectrum-Submenu-wrapper--isMobile': isMobile})} onKeyDown={wrapperKeyDown}>\n          {isMobile && isSubmenu && !hasOpenSubmenu && (\n            <div className={classNames(styles, 'spectrum-Submenu-headingWrapper')}>\n              <ActionButton\n                aria-label={backButtonLabel}\n                isQuiet\n                onPress={handleBackButtonPress}>\n                {/* We don't have a ArrowLeftSmall so make due with ArrowDownSmall and transforms */}\n                {direction === 'rtl' ? <ArrowDownSmall UNSAFE_style={{rotate: '270deg'}} /> : <ArrowDownSmall UNSAFE_style={{rotate: '90deg'}} />}\n              </ActionButton>\n              <h1 id={headingId} className={classNames(styles, 'spectrum-Submenu-heading')}>{backButtonText}</h1>\n            </div>\n          )}\n          {children}\n        </div>\n      </div>\n    </>\n  );\n}\n\n/**\n * Menus display a list of actions or options that a user can choose.\n */\n// forwardRef doesn't support generic parameters, so cast the result to the correct type\n// https://stackoverflow.com/questions/58469229/react-with-typescript-generics-while-using-react-forwardref\nconst _Menu = React.forwardRef(Menu) as <T>(props: SpectrumMenuProps<T> & {ref?: DOMRef<HTMLDivElement>}) => ReactElement;\nexport {_Menu as Menu};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}