{"ast":null,"code":"import { startOfYear as $k1D4u$startOfYear, startOfMonth as $k1D4u$startOfMonth, startOfWeek as $k1D4u$startOfWeek, maxDate as $k1D4u$maxDate, toCalendarDate as $k1D4u$toCalendarDate, minDate as $k1D4u$minDate } from \"@internationalized/date\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nfunction $f62d864046160412$export$eac50920cf2fd59a(date, minValue, maxValue) {\n  return minValue != null && date.compare(minValue) < 0 || maxValue != null && date.compare(maxValue) > 0;\n}\nfunction $f62d864046160412$export$f4a51ff076cc9a09(date, duration, locale, minValue, maxValue) {\n  let halfDuration = {};\n  for (let key in duration) {\n    halfDuration[key] = Math.floor(duration[key] / 2);\n    if (halfDuration[key] > 0 && duration[key] % 2 === 0) halfDuration[key]--;\n  }\n  let aligned = $f62d864046160412$export$144a00ba6044eb9(date, duration, locale).subtract(halfDuration);\n  return $f62d864046160412$export$5bb865b12696a77d(date, aligned, duration, locale, minValue, maxValue);\n}\nfunction $f62d864046160412$export$144a00ba6044eb9(date, duration, locale, minValue, maxValue) {\n  // align to the start of the largest unit\n  let aligned = date;\n  if (duration.years) aligned = (0, $k1D4u$startOfYear)(date);else if (duration.months) aligned = (0, $k1D4u$startOfMonth)(date);else if (duration.weeks) aligned = (0, $k1D4u$startOfWeek)(date, locale);\n  return $f62d864046160412$export$5bb865b12696a77d(date, aligned, duration, locale, minValue, maxValue);\n}\nfunction $f62d864046160412$export$530edbfc915b2b04(date, duration, locale, minValue, maxValue) {\n  let d = {\n    ...duration\n  };\n  // subtract 1 from the smallest unit\n  if (d.days) d.days--;else if (d.weeks) d.weeks--;else if (d.months) d.months--;else if (d.years) d.years--;\n  let aligned = $f62d864046160412$export$144a00ba6044eb9(date, duration, locale).subtract(d);\n  return $f62d864046160412$export$5bb865b12696a77d(date, aligned, duration, locale, minValue, maxValue);\n}\nfunction $f62d864046160412$export$5bb865b12696a77d(date, aligned, duration, locale, minValue, maxValue) {\n  if (minValue && date.compare(minValue) >= 0) {\n    let newDate = (0, $k1D4u$maxDate)(aligned, $f62d864046160412$export$144a00ba6044eb9((0, $k1D4u$toCalendarDate)(minValue), duration, locale));\n    if (newDate) aligned = newDate;\n  }\n  if (maxValue && date.compare(maxValue) <= 0) {\n    let newDate = (0, $k1D4u$minDate)(aligned, $f62d864046160412$export$530edbfc915b2b04((0, $k1D4u$toCalendarDate)(maxValue), duration, locale));\n    if (newDate) aligned = newDate;\n  }\n  return aligned;\n}\nfunction $f62d864046160412$export$4f5203c0d889109e(date, minValue, maxValue) {\n  if (minValue) {\n    let newDate = (0, $k1D4u$maxDate)(date, (0, $k1D4u$toCalendarDate)(minValue));\n    if (newDate) date = newDate;\n  }\n  if (maxValue) {\n    let newDate = (0, $k1D4u$minDate)(date, (0, $k1D4u$toCalendarDate)(maxValue));\n    if (newDate) date = newDate;\n  }\n  return date;\n}\nfunction $f62d864046160412$export$a1d3911297b952d7(date, minValue, isDateUnavailable) {\n  if (!isDateUnavailable) return date;\n  while (date.compare(minValue) >= 0 && isDateUnavailable(date)) date = date.subtract({\n    days: 1\n  });\n  if (date.compare(minValue) >= 0) return date;\n  return null;\n}\nexport { $f62d864046160412$export$eac50920cf2fd59a as isInvalid, $f62d864046160412$export$f4a51ff076cc9a09 as alignCenter, $f62d864046160412$export$144a00ba6044eb9 as alignStart, $f62d864046160412$export$5bb865b12696a77d as constrainStart, $f62d864046160412$export$530edbfc915b2b04 as alignEnd, $f62d864046160412$export$4f5203c0d889109e as constrainValue, $f62d864046160412$export$a1d3911297b952d7 as previousAvailableDate };","map":{"version":3,"names":["$f62d864046160412$export$eac50920cf2fd59a","date","minValue","maxValue","compare","$f62d864046160412$export$f4a51ff076cc9a09","duration","locale","halfDuration","key","Math","floor","aligned","$f62d864046160412$export$144a00ba6044eb9","subtract","$f62d864046160412$export$5bb865b12696a77d","years","$k1D4u$startOfYear","months","$k1D4u$startOfMonth","weeks","$k1D4u$startOfWeek","$f62d864046160412$export$530edbfc915b2b04","d","days","newDate","$k1D4u$maxDate","$k1D4u$toCalendarDate","$k1D4u$minDate","$f62d864046160412$export$4f5203c0d889109e","$f62d864046160412$export$a1d3911297b952d7","isDateUnavailable"],"sources":["/Users/oscar.meunier/Documents/Personal/goodreads/node_modules/@react-stately/calendar/dist/packages/@react-stately/calendar/src/utils.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nimport {\n  CalendarDate,\n  DateDuration,\n  maxDate,\n  minDate,\n  startOfMonth,\n  startOfWeek,\n  startOfYear,\n  toCalendarDate\n} from '@internationalized/date';\nimport {DateValue} from '@react-types/calendar';\n\nexport function isInvalid(date: DateValue, minValue?: DateValue | null, maxValue?: DateValue | null) {\n  return (minValue != null && date.compare(minValue) < 0) ||\n    (maxValue != null && date.compare(maxValue) > 0);\n}\n\nexport function alignCenter(date: CalendarDate, duration: DateDuration, locale: string, minValue?: DateValue | null, maxValue?: DateValue | null) {\n  let halfDuration: DateDuration = {};\n  for (let key in duration) {\n    halfDuration[key] = Math.floor(duration[key] / 2);\n    if (halfDuration[key] > 0 && duration[key] % 2 === 0) {\n      halfDuration[key]--;\n    }\n  }\n\n  let aligned = alignStart(date, duration, locale).subtract(halfDuration);\n  return constrainStart(date, aligned, duration, locale, minValue, maxValue);\n}\n\nexport function alignStart(date: CalendarDate, duration: DateDuration, locale: string, minValue?: DateValue | null, maxValue?: DateValue | null) {\n  // align to the start of the largest unit\n  let aligned = date;\n  if (duration.years) {\n    aligned = startOfYear(date);\n  } else if (duration.months) {\n    aligned = startOfMonth(date);\n  } else if (duration.weeks) {\n    aligned = startOfWeek(date, locale);\n  }\n\n  return constrainStart(date, aligned, duration, locale, minValue, maxValue);\n}\n\nexport function alignEnd(date: CalendarDate, duration: DateDuration, locale: string, minValue?: DateValue | null, maxValue?: DateValue | null) {\n  let d = {...duration};\n  // subtract 1 from the smallest unit\n  if (d.days) {\n    d.days--;\n  } else if (d.weeks) {\n    d.weeks--;\n  } else if (d.months) {\n    d.months--;\n  } else if (d.years) {\n    d.years--;\n  }\n\n  let aligned = alignStart(date, duration, locale).subtract(d);\n  return constrainStart(date, aligned, duration, locale, minValue, maxValue);\n}\n\nexport function constrainStart(\n  date: CalendarDate,\n  aligned: CalendarDate,\n  duration: DateDuration,\n  locale: string,\n  minValue?: DateValue | null,\n  maxValue?: DateValue | null) {\n  if (minValue && date.compare(minValue) >= 0) {\n    let newDate = maxDate(\n      aligned,\n      alignStart(toCalendarDate(minValue), duration, locale)\n    );\n    if (newDate) {\n      aligned = newDate;\n    }\n  }\n\n  if (maxValue && date.compare(maxValue) <= 0) {\n    let newDate = minDate(\n      aligned,\n      alignEnd(toCalendarDate(maxValue), duration, locale)\n    );\n    if (newDate) {\n      aligned = newDate;\n    }\n  }\n\n  return aligned;\n}\n\nexport function constrainValue(date: CalendarDate, minValue?: DateValue | null, maxValue?: DateValue | null) {\n  if (minValue) {\n    let newDate = maxDate(date, toCalendarDate(minValue));\n    if (newDate) {\n      date = newDate;\n    }\n  }\n\n  if (maxValue) {\n    let newDate = minDate(date, toCalendarDate(maxValue));\n    if (newDate) {\n      date = newDate;\n    }\n  }\n\n  return date;\n}\n\nexport function previousAvailableDate(date: CalendarDate, minValue: DateValue, isDateUnavailable?: (date: CalendarDate) => boolean): CalendarDate | null {\n  if (!isDateUnavailable) {\n    return date;\n  }\n\n  while (date.compare(minValue) >= 0 && isDateUnavailable(date)) {\n    date = date.subtract({days: 1});\n  }\n\n  if (date.compare(minValue) >= 0) {\n    return date;\n  }\n  return null;\n}\n"],"mappings":";;AAAA;;;;;;;;;;;AAuBO,SAASA,0CAAUC,IAAe,EAAEC,QAA2B,EAAEC,QAA2B;EACjG,OAAOD,QAAC,IAAY,QAAQD,IAAA,CAAKG,OAAO,CAACF,QAAA,IAAY,KAClDC,QAAA,IAAY,QAAQF,IAAA,CAAKG,OAAO,CAACD,QAAA,IAAY;AAClD;AAEO,SAASE,0CAAYJ,IAAkB,EAAEK,QAAsB,EAAEC,MAAc,EAAEL,QAA2B,EAAEC,QAA2B;EAC9I,IAAIK,YAAA,GAA6B,CAAC;EAClC,KAAK,IAAIC,GAAA,IAAOH,QAAA,EAAU;IACxBE,YAAY,CAACC,GAAA,CAAI,GAAGC,IAAA,CAAKC,KAAK,CAACL,QAAQ,CAACG,GAAA,CAAI,GAAG;IAC/C,IAAID,YAAY,CAACC,GAAA,CAAI,GAAG,KAAKH,QAAQ,CAACG,GAAA,CAAI,GAAG,MAAM,GACjDD,YAAY,CAACC,GAAA,CAAI;EAErB;EAEA,IAAIG,OAAA,GAAUC,wCAAA,CAAWZ,IAAA,EAAMK,QAAA,EAAUC,MAAA,EAAQO,QAAQ,CAACN,YAAA;EAC1D,OAAOO,yCAAA,CAAed,IAAA,EAAMW,OAAA,EAASN,QAAA,EAAUC,MAAA,EAAQL,QAAA,EAAUC,QAAA;AACnE;AAEO,SAASU,yCAAWZ,IAAkB,EAAEK,QAAsB,EAAEC,MAAc,EAAEL,QAA2B,EAAEC,QAA2B;EAC7I;EACA,IAAIS,OAAA,GAAUX,IAAA;EACd,IAAIK,QAAA,CAASU,KAAK,EAChBJ,OAAA,GAAU,IAAAK,kBAAU,EAAEhB,IAAA,OACjB,IAAIK,QAAA,CAASY,MAAM,EACxBN,OAAA,GAAU,IAAAO,mBAAW,EAAElB,IAAA,OAClB,IAAIK,QAAA,CAASc,KAAK,EACvBR,OAAA,GAAU,IAAAS,kBAAU,EAAEpB,IAAA,EAAMM,MAAA;EAG9B,OAAOQ,yCAAA,CAAed,IAAA,EAAMW,OAAA,EAASN,QAAA,EAAUC,MAAA,EAAQL,QAAA,EAAUC,QAAA;AACnE;AAEO,SAASmB,0CAASrB,IAAkB,EAAEK,QAAsB,EAAEC,MAAc,EAAEL,QAA2B,EAAEC,QAA2B;EAC3I,IAAIoB,CAAA,GAAI;IAAC,GAAGjB;EAAQ;EACpB;EACA,IAAIiB,CAAA,CAAEC,IAAI,EACRD,CAAA,CAAEC,IAAI,QACD,IAAID,CAAA,CAAEH,KAAK,EAChBG,CAAA,CAAEH,KAAK,QACF,IAAIG,CAAA,CAAEL,MAAM,EACjBK,CAAA,CAAEL,MAAM,QACH,IAAIK,CAAA,CAAEP,KAAK,EAChBO,CAAA,CAAEP,KAAK;EAGT,IAAIJ,OAAA,GAAUC,wCAAA,CAAWZ,IAAA,EAAMK,QAAA,EAAUC,MAAA,EAAQO,QAAQ,CAACS,CAAA;EAC1D,OAAOR,yCAAA,CAAed,IAAA,EAAMW,OAAA,EAASN,QAAA,EAAUC,MAAA,EAAQL,QAAA,EAAUC,QAAA;AACnE;AAEO,SAASY,0CACdd,IAAkB,EAClBW,OAAqB,EACrBN,QAAsB,EACtBC,MAAc,EACdL,QAA2B,EAC3BC,QAA2B;EAC3B,IAAID,QAAA,IAAYD,IAAA,CAAKG,OAAO,CAACF,QAAA,KAAa,GAAG;IAC3C,IAAIuB,OAAA,GAAU,IAAAC,cAAM,EAClBd,OAAA,EACAC,wCAAA,CAAW,IAAAc,qBAAa,EAAEzB,QAAA,GAAWI,QAAA,EAAUC,MAAA;IAEjD,IAAIkB,OAAA,EACFb,OAAA,GAAUa,OAAA;EAEd;EAEA,IAAItB,QAAA,IAAYF,IAAA,CAAKG,OAAO,CAACD,QAAA,KAAa,GAAG;IAC3C,IAAIsB,OAAA,GAAU,IAAAG,cAAM,EAClBhB,OAAA,EACAU,yCAAA,CAAS,IAAAK,qBAAa,EAAExB,QAAA,GAAWG,QAAA,EAAUC,MAAA;IAE/C,IAAIkB,OAAA,EACFb,OAAA,GAAUa,OAAA;EAEd;EAEA,OAAOb,OAAA;AACT;AAEO,SAASiB,0CAAe5B,IAAkB,EAAEC,QAA2B,EAAEC,QAA2B;EACzG,IAAID,QAAA,EAAU;IACZ,IAAIuB,OAAA,GAAU,IAAAC,cAAM,EAAEzB,IAAA,EAAM,IAAA0B,qBAAa,EAAEzB,QAAA;IAC3C,IAAIuB,OAAA,EACFxB,IAAA,GAAOwB,OAAA;EAEX;EAEA,IAAItB,QAAA,EAAU;IACZ,IAAIsB,OAAA,GAAU,IAAAG,cAAM,EAAE3B,IAAA,EAAM,IAAA0B,qBAAa,EAAExB,QAAA;IAC3C,IAAIsB,OAAA,EACFxB,IAAA,GAAOwB,OAAA;EAEX;EAEA,OAAOxB,IAAA;AACT;AAEO,SAAS6B,0CAAsB7B,IAAkB,EAAEC,QAAmB,EAAE6B,iBAAmD;EAChI,IAAI,CAACA,iBAAA,EACH,OAAO9B,IAAA;EAGT,OAAOA,IAAA,CAAKG,OAAO,CAACF,QAAA,KAAa,KAAK6B,iBAAA,CAAkB9B,IAAA,GACtDA,IAAA,GAAOA,IAAA,CAAKa,QAAQ,CAAC;IAACU,IAAA,EAAM;EAAC;EAG/B,IAAIvB,IAAA,CAAKG,OAAO,CAACF,QAAA,KAAa,GAC5B,OAAOD,IAAA;EAET,OAAO;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}