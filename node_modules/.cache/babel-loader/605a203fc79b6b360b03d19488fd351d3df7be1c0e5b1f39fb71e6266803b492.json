{"ast":null,"code":"import \"./vars.bf55d9e0.css\";\nimport $e9TuM$modal_vars_cssmodulejs from \"./modal_vars_css.mjs\";\nimport { Overlay as $70305dc5fb729c3b$export$c6fdb837b070b4ff } from \"./Overlay.mjs\";\nimport \"./overlays.f8d97b78.css\";\nimport $e9TuM$overlays_cssmodulejs from \"./overlays_css.mjs\";\nimport { Underlay as $76a452f4e3df11be$export$f360afc887607b02 } from \"./Underlay.mjs\";\nimport { useModalOverlay as $e9TuM$useModalOverlay } from \"@react-aria/overlays\";\nimport { useDOMRef as $e9TuM$useDOMRef, useStyleProps as $e9TuM$useStyleProps, classNames as $e9TuM$classNames } from \"@react-spectrum/utils\";\nimport $e9TuM$react, { useRef as $e9TuM$useRef, forwardRef as $e9TuM$forwardRef } from \"react\";\nimport { useViewportSize as $e9TuM$useViewportSize } from \"@react-aria/utils\";\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction $842084dfa182af65$var$Modal(props, ref) {\n  let {\n    children: children,\n    state: state,\n    ...otherProps\n  } = props;\n  let domRef = (0, $e9TuM$useDOMRef)(ref);\n  let wrapperRef = (0, $e9TuM$useRef)(null);\n  return /*#__PURE__*/(0, $e9TuM$react).createElement((0, $70305dc5fb729c3b$export$c6fdb837b070b4ff), {\n    ...otherProps,\n    isOpen: state.isOpen,\n    nodeRef: wrapperRef\n  }, /*#__PURE__*/(0, $e9TuM$react).createElement($842084dfa182af65$var$ModalWrapper, {\n    ...props,\n    wrapperRef: wrapperRef,\n    ref: domRef\n  }, children));\n}\nlet $842084dfa182af65$var$typeMap = {\n  fullscreen: 'fullscreen',\n  fullscreenTakeover: 'fullscreenTakeover'\n};\nlet $842084dfa182af65$var$ModalWrapper = /*#__PURE__*/(0, $e9TuM$forwardRef)(function (props, ref) {\n  let {\n    type: type,\n    children: children,\n    state: state,\n    isOpen: isOpen,\n    wrapperRef: wrapperRef\n  } = props;\n  let typeVariant = $842084dfa182af65$var$typeMap[type];\n  let {\n    styleProps: styleProps\n  } = (0, $e9TuM$useStyleProps)(props);\n  let {\n    modalProps: modalProps,\n    underlayProps: underlayProps\n  } = (0, $e9TuM$useModalOverlay)(props, state, ref);\n  let wrapperClassName = (0, $e9TuM$classNames)((0, $parcel$interopDefault($e9TuM$modal_vars_cssmodulejs)), 'spectrum-Modal-wrapper', (0, $e9TuM$classNames)((0, $parcel$interopDefault($e9TuM$overlays_cssmodulejs)), 'spectrum-Modal-wrapper', 'react-spectrum-Modal-wrapper'));\n  let modalClassName = (0, $e9TuM$classNames)((0, $parcel$interopDefault($e9TuM$modal_vars_cssmodulejs)), 'spectrum-Modal', {\n    'is-open': isOpen\n  }, (0, $e9TuM$classNames)((0, $parcel$interopDefault($e9TuM$overlays_cssmodulejs)), 'spectrum-Modal', 'react-spectrum-Modal'), {\n    [`spectrum-Modal--${typeVariant}`]: typeVariant\n  }, styleProps.className);\n  let viewport = (0, $e9TuM$useViewportSize)();\n  let style = {\n    '--spectrum-visual-viewport-height': viewport.height + 'px'\n  };\n  // Attach Transition's nodeRef to outer most wrapper for node.reflow: https://github.com/reactjs/react-transition-group/blob/c89f807067b32eea6f68fd6c622190d88ced82e2/src/Transition.js#L231\n  return /*#__PURE__*/(0, $e9TuM$react).createElement(\"div\", {\n    ref: wrapperRef\n  }, /*#__PURE__*/(0, $e9TuM$react).createElement((0, $76a452f4e3df11be$export$f360afc887607b02), {\n    ...underlayProps,\n    isOpen: isOpen\n  }), /*#__PURE__*/(0, $e9TuM$react).createElement(\"div\", {\n    className: wrapperClassName,\n    style: style\n  }, /*#__PURE__*/(0, $e9TuM$react).createElement(\"div\", {\n    ...styleProps,\n    ...modalProps,\n    ref: ref,\n    className: modalClassName,\n    \"data-testid\": \"modal\"\n  }, children)));\n});\nlet $842084dfa182af65$export$2b77a92f1a5ad772 = /*#__PURE__*/(0, $e9TuM$forwardRef)($842084dfa182af65$var$Modal);\nexport { $842084dfa182af65$export$2b77a92f1a5ad772 as Modal };","map":{"version":3,"names":["$842084dfa182af65$var$Modal","props","ref","children","state","otherProps","domRef","$e9TuM$useDOMRef","wrapperRef","$e9TuM$useRef","$e9TuM$react","createElement","$70305dc5fb729c3b$export$c6fdb837b070b4ff","isOpen","nodeRef","$842084dfa182af65$var$ModalWrapper","$842084dfa182af65$var$typeMap","fullscreen","fullscreenTakeover","$e9TuM$forwardRef","type","typeVariant","styleProps","$e9TuM$useStyleProps","modalProps","underlayProps","$e9TuM$useModalOverlay","wrapperClassName","$e9TuM$classNames","$parcel$interopDefault","$e9TuM$modal_vars_cssmodulejs","$e9TuM$overlays_cssmodulejs","modalClassName","className","viewport","$e9TuM$useViewportSize","style","height","$76a452f4e3df11be$export$f360afc887607b02","$842084dfa182af65$export$2b77a92f1a5ad772"],"sources":["/Users/oscar.meunier/Documents/Personal/goodreads/node_modules/@react-spectrum/overlays/dist/packages/@react-spectrum/overlays/src/Modal.tsx"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaModalOverlayProps, useModalOverlay} from '@react-aria/overlays';\nimport {classNames, useDOMRef, useStyleProps} from '@react-spectrum/utils';\nimport {DOMRef, RefObject, StyleProps} from '@react-types/shared';\nimport modalStyles from '@adobe/spectrum-css-temp/components/modal/vars.css';\nimport {Overlay} from './Overlay';\nimport {OverlayProps} from '@react-types/overlays';\nimport {OverlayTriggerState} from '@react-stately/overlays';\nimport overrideStyles from './overlays.css';\nimport React, {forwardRef, MutableRefObject, ReactNode, useRef} from 'react';\nimport {Underlay} from './Underlay';\nimport {useViewportSize} from '@react-aria/utils';\n\ninterface ModalProps extends AriaModalOverlayProps, StyleProps, Omit<OverlayProps, 'nodeRef' | 'shouldContainFocus'> {\n  children: ReactNode,\n  state: OverlayTriggerState,\n  type?: 'modal' | 'fullscreen' | 'fullscreenTakeover'\n}\n\ninterface ModalWrapperProps extends ModalProps {\n  isOpen?: boolean,\n  wrapperRef: MutableRefObject<HTMLDivElement>\n}\n\nfunction Modal(props: ModalProps, ref: DOMRef<HTMLDivElement>) {\n  let {children, state, ...otherProps} = props;\n  let domRef = useDOMRef(ref);\n  let wrapperRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <Overlay {...otherProps} isOpen={state.isOpen} nodeRef={wrapperRef}>\n      <ModalWrapper {...props} wrapperRef={wrapperRef} ref={domRef}>\n        {children}\n      </ModalWrapper>\n    </Overlay>\n  );\n}\n\nlet typeMap = {\n  fullscreen: 'fullscreen',\n  fullscreenTakeover: 'fullscreenTakeover'\n};\n\nlet ModalWrapper = forwardRef(function (props: ModalWrapperProps, ref: RefObject<HTMLDivElement | null>) {\n  let {type, children, state, isOpen, wrapperRef} = props;\n  let typeVariant = typeMap[type];\n  let {styleProps} = useStyleProps(props);\n  let {modalProps, underlayProps} = useModalOverlay(props, state, ref);\n\n  let wrapperClassName = classNames(\n    modalStyles,\n    'spectrum-Modal-wrapper',\n    classNames(\n      overrideStyles,\n      'spectrum-Modal-wrapper',\n      'react-spectrum-Modal-wrapper'\n    )\n  );\n\n  let modalClassName = classNames(\n    modalStyles,\n    'spectrum-Modal',\n    {\n      'is-open': isOpen\n    },\n    classNames(\n      overrideStyles,\n      'spectrum-Modal',\n      'react-spectrum-Modal'\n    ),\n    {[`spectrum-Modal--${typeVariant}`]: typeVariant},\n    styleProps.className\n  );\n\n  let viewport = useViewportSize();\n  let style: any = {\n    '--spectrum-visual-viewport-height': viewport.height + 'px'\n  };\n\n  // Attach Transition's nodeRef to outer most wrapper for node.reflow: https://github.com/reactjs/react-transition-group/blob/c89f807067b32eea6f68fd6c622190d88ced82e2/src/Transition.js#L231\n  return (\n    <div ref={wrapperRef}>\n      <Underlay {...underlayProps} isOpen={isOpen} />\n      <div className={wrapperClassName} style={style}>\n        <div\n          {...styleProps}\n          {...modalProps}\n          ref={ref}\n          className={modalClassName}\n          data-testid=\"modal\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nlet _Modal = forwardRef(Modal);\nexport {_Modal as Modal};\n"],"mappings":";;;;;;;;;;;;;AAAA;;;;;;;;;;;;AAmCA,SAASA,4BAAMC,KAAiB,EAAEC,GAA2B;EAC3D,IAAI;IAAAC,QAAA,EAACA,QAAQ;IAAAC,KAAA,EAAEA,KAAK;IAAE,GAAGC;EAAA,CAAW,GAAGJ,KAAA;EACvC,IAAIK,MAAA,GAAS,IAAAC,gBAAQ,EAAEL,GAAA;EACvB,IAAIM,UAAA,GAAa,IAAAC,aAAK,EAAkB;EAExC,oBACE,IAAAC,YAAA,EAAAC,aAAA,EAAC,GAAAC,yCAAM;IAAG,GAAGP,UAAU;IAAEQ,MAAA,EAAQT,KAAA,CAAMS,MAAM;IAAEC,OAAA,EAASN;kBACtD,IAAAE,YAAA,EAAAC,aAAA,CAACI,kCAAA;IAAc,GAAGd,KAAK;IAAEO,UAAA,EAAYA,UAAA;IAAYN,GAAA,EAAKI;KACnDH,QAAA;AAIT;AAEA,IAAIa,6BAAA,GAAU;EACZC,UAAA,EAAY;EACZC,kBAAA,EAAoB;AACtB;AAEA,IAAIH,kCAAA,gBAAe,IAAAI,iBAAS,EAAE,UAAUlB,KAAwB,EAAEC,GAAqC;EACrG,IAAI;IAAAkB,IAAA,EAACA,IAAI;IAAAjB,QAAA,EAAEA,QAAQ;IAAAC,KAAA,EAAEA,KAAK;IAAAS,MAAA,EAAEA,MAAM;IAAAL,UAAA,EAAEA;EAAU,CAAC,GAAGP,KAAA;EAClD,IAAIoB,WAAA,GAAcL,6BAAO,CAACI,IAAA,CAAK;EAC/B,IAAI;IAAAE,UAAA,EAACA;EAAU,CAAC,GAAG,IAAAC,oBAAY,EAAEtB,KAAA;EACjC,IAAI;IAAAuB,UAAA,EAACA,UAAU;IAAAC,aAAA,EAAEA;EAAa,CAAC,GAAG,IAAAC,sBAAc,EAAEzB,KAAA,EAAOG,KAAA,EAAOF,GAAA;EAEhE,IAAIyB,gBAAA,GAAmB,IAAAC,iBAAS,GAC9B,GAAAC,sBAAA,CAAAC,6BAAA,CAAU,GACV,0BACA,IAAAF,iBAAS,GACP,GAAAC,sBAAA,CAAAE,2BAAA,CAAa,GACb,0BACA;EAIJ,IAAIC,cAAA,GAAiB,IAAAJ,iBAAS,GAC5B,GAAAC,sBAAA,CAAAC,6BAAA,CAAU,GACV,kBACA;IACE,WAAWjB;EACb,GACA,IAAAe,iBAAS,GACP,GAAAC,sBAAA,CAAAE,2BAAA,CAAa,GACb,kBACA,yBAEF;IAAC,CAAC,mBAAmBV,WAAA,EAAa,GAAGA;EAAW,GAChDC,UAAA,CAAWW,SAAS;EAGtB,IAAIC,QAAA,GAAW,IAAAC,sBAAc;EAC7B,IAAIC,KAAA,GAAa;IACf,qCAAqCF,QAAA,CAASG,MAAM,GAAG;EACzD;EAEA;EACA,oBACE,IAAA3B,YAAA,EAAAC,aAAA,CAAC;IAAIT,GAAA,EAAKM;kBACR,IAAAE,YAAA,EAAAC,aAAA,EAAC,GAAA2B,yCAAO;IAAG,GAAGb,aAAa;IAAEZ,MAAA,EAAQA;mBACrC,IAAAH,YAAA,EAAAC,aAAA,CAAC;IAAIsB,SAAA,EAAWN,gBAAA;IAAkBS,KAAA,EAAOA;kBACvC,IAAA1B,YAAA,EAAAC,aAAA,CAAC;IACE,GAAGW,UAAU;IACb,GAAGE,UAAU;IACdtB,GAAA,EAAKA,GAAA;IACL+B,SAAA,EAAWD,cAAA;IACX,eAAY;KACX7B,QAAA;AAKX;AAEA,IAAIoC,yCAAA,gBAAS,IAAApB,iBAAS,EAAEnB,2BAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}